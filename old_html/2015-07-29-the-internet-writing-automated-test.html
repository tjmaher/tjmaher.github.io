---
layout: post
title: 'The-Internet: Writing the Automated Test'
date: '2015-07-29T00:57:00.000-04:00'
author: T.J. Maher
tags:
- code examples
- beginner
- Page Object
- test framework
- Dave Haeffner
modified_time: '2016-04-29T19:57:54.342-04:00'
thumbnail: https://4.bp.blogspot.com/-HaIntSdGA7g/VXj4pPUCthI/AAAAAAAAKls/lWJrC8dz1K8/s72-c/login.png
blogger_id: tag:blogger.com,1999:blog-3868566217808655382.post-2020940994985996581
blogger_orig_url: http://www.tjmaher.com/2015/07/the-internet-writing-automated-test.html
---

<i>Writing automated test code to test against Dave Haeffner's mock site, The-Internet: <a href="https://the-internet.herokuapp.com/login">Login Page</a>.</i> <br /><br /><i>This post is second in a series of six. Need to go <a href="/2015/06/simple-manipulation-of-login-page.html">back to the beginning</a>?</i><br><br>We have covered a lot of ground in this series of blog posts.<br /><br />The sixth and final part, writing the automated test, is kind of anti-climactic after all that effort.  <br /><br /><a name='more'></a><br /><br /><b><u>LoginTest.java</u></b><br /><br /><script src="https://gist.github.com/tjmaher/e934a4b281131bb98991.js"></script> Now that we have encapsulated the web elements in the page objects, most of the web document and logging in common utilities, and locators in enums, we have a test that is quite readable. You can see what page the test interacts with, and by using descriptive method names, you can guess what actions will be taken before the Firefox browser ever opens up the Login page.<br /><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-HaIntSdGA7g/VXj4pPUCthI/AAAAAAAAKls/lWJrC8dz1K8/s1600/login.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="258" src="https://4.bp.blogspot.com/-HaIntSdGA7g/VXj4pPUCthI/AAAAAAAAKls/lWJrC8dz1K8/s320/login.png" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Welcome to <b>The-Internet</b>!</td></tr></tbody></table>When you kick off the test:<br /><ul><li>A new Firefox browser window opens up, if there wasn't one open already.&nbsp;</li><li>The automated test navigates to the login page:&nbsp;https://the-internet.herokuapp.com/login</li><li>The automated test&nbsp;asserts that the header text appears.</li><li>etc, etc.</li></ul><div>A very important part is what gets written to the logs. Descriptive text detailing what section the test is in and what it is doing is very important, especially when the test failed and you need to quickly diagnose what when wrong. Was it a problem with the new test you added? Is it a problem with the server? Or is it a real, honest to goodness problem with the web application itself?&nbsp;</div><div><br /></div><div>Well written logs are quite important, indeed!&nbsp;</div><div><br /><b>Recap</b>:</div><div><ul><li><b>Part One</b>: We sketched out the&nbsp;<a href="http://www.tjmaher.com/2015/06/simple-manipulation-of-login-page.html">simple manipulation of a login page</a>&nbsp;using the login page provided by Dave Haeffner and his test site.&nbsp;</li><li><b>Part Two</b>: We began drafting&nbsp;<a href="http://www.tjmaher.com/2015/06/creating-common-utilities-for-webdriver.html">a set of common utilities</a>, refactoring the initial code, modelling it on what my workplace currently uses.&nbsp;</li><li><b>Part Three</b>: We talked about the different ways of storing constants:&nbsp;<a href="http://www.tjmaher.com/2015/07/how-java-stores-constants-static-final.html">public final vs enums</a>.&nbsp;</li><li><b>Part Four</b>: We talked about storing&nbsp;<a href="http://www.tjmaher.com/2015/07/storing-locators-for-web-elements.html">locators in enums</a>.&nbsp;</li><li><b>Part Five</b>: We talked briefly about the&nbsp;<a href="http://www.tjmaher.com/2015/07/the-internet-page-object-model-examples.html">Page Object Design Pattern</a>.&nbsp;</li></ul></div><script src="https://gist.github.com/tjmaher/dc1e5b08587a1fe815bd.js"></script> <br /><div><br /></div><div><h3>What these blog posts didn't cover</h3></div><div>There are many topics in the code that I didn't cover in these six blog posts about "Testing The-Internet". Most of the topics I did not cover because, well, I am still quite new at being an automated tester. I've only been allocated at 100% to the automation department a bit less than the past two months. I have imitated the style of some of the following items that we use at work without fully understanding them, so I am not sure if I have mimicked them correctly. Know of a better way to do things? Let me know in the <b>Comments</b>!<br /><br /><b><u>Structuring the Automated Test Suite:</u></b><br /><br />Is this the best way to structure the test suite? Is there a better way? Who knows! But this is how I did it in <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/tree/master/src/test/java"><b>WebDriver_TheInternet_Advanced</b></a>, which you can access on my GitHub account.<br /><br />Below is the folder structure I used, imitating what we use at work. The Java classes are linked back to the sample source code I come up for these introductory examples, hosted on Github.com.<br /><br /><b>base:</b><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/base/DriverFactory.java">DriverFactory.java</a><br /><br /><b>enums:</b><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/enums/PageHeaderEnum.java">PageHeaderEnums.java</a><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/enums/UserEnum.java">UserEnums.java</a><br /><br /><b>interfaces:</b><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/interfaces/ISelector.java">ISelector.java</a><br /><br /><b>pages:</b><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/pages/LoginPage.java">LoginPage.java</a><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/pages/SecureArea.java">SecureArea.java</a><br /><br /><b>tests:</b><br />==&gt;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/tests/LoginTest.java"> LoginTest.java</a><br /><br /><b>utils:</b><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/CommonUtils.java">CommonUtils.java</a><br />==&gt; <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/DriverUtils.java">DriverUtils.java</a><br /><br /><b><u><br /></u></b><b><u><br /></u></b><b><u>Base.DriverFactory.java</u></b><br /><br />This is an example of me imitating something I have seen at work but still don't fully understand, mostly because I am still new to software development design patterns, and I am still unsure of the <a href="https://en.wikipedia.org/wiki/Factory_(object-oriented_programming)">Factory Design pattern</a>.<br /><br />The <i>factory method</i> is an object that creates other objects. By instantiating this class in your test and passing a driver to it with the following code:<br /><br /><blockquote class="tr_bq"><i>DriverFactory df = new DriverFactory(DriverUtils.getDriver());</i></blockquote><br />... You are also creating an new instance of the LoginPage object and SecureArea object. This means that to call a page object and use a method, you just need to add the variable <i>df</i> as a prefix.<br /><blockquote class="tr_bq"><i>df.login.navigateToLoginPage();</i>&nbsp;</blockquote><blockquote class="tr_bq"><i>df.secure.logOutOfSecureArea();</i></blockquote></div><b><u><br /></u></b><b><u><br /></u></b><b><u>Utils.DriverUtils.java</u></b><br /><br />At my workplace, this utility class contains a lot of material I didn't need for this simple example:<br /><br /><ul><li><b>Desired Capabilities: </b>For this example, we are only using Firefox. I didn't need to set up a separate Firefox profile, Chromebrowser, Internet Explorer, Android, or Phantom JS. We also didn't need to set any ChromeOptions.</li><li><b>Selenium Grid</b>: Since we aren't running this test in parallel with other tests, we didn't need to set up Selenium Grid, or set up and start a RemoteWebDriver.&nbsp;</li><li><b>SauceLabs</b>: Since we aren't using SauceLabs to outsource our Selenium Grid, we didn't need any methods for getting or setting a Sauce session.</li><li><b>TestRail</b>: These tests are not data driven, so we don't need to get the value populating a "Browser" dropdown in TestRail, setting the capabilities.&nbsp;</li></ul><div><br /></div><div>... Quite frankly, I am not sure I even set up <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/DriverUtils.java">DriverUtils</a> up correctly. All I know is that it seems to open a browser, go to the right page, and tear down the browser correctly.&nbsp;</div><div><br /></div><div>I hope you had as much fun reading about what I have picked up in the past two months as an automated tester as I have with writing about it!<br /><br><br /><div class="toc-section" id="toc-section"><b>Testing The-Internet:</b><ul><li><b>Part One:</b>&nbsp;<a href="/2015/06/simple-manipulation-of-login-page.html">Sketching out the simple manipulation of a login page</a></li><li><b>Part Two:</b>&nbsp;<a href="/2015/06/creating-common-utilities-for-webdriver.html">Drafting Common Utilities</a></li><li><b>Part Three:</b>&nbsp;<a href="/2015/07/how-java-stores-constants-static-final.html">Storing Constanst: public final vs enums</a></li><li><b>Part Four:</b>&nbsp;<a href="/2015/07/storing-locators-for-web-elements.html">Storing locators in enums</a></li><li><b>Part Five:</b>&nbsp;<a href="/2015/07/the-internet-page-object-model-examples.html">Page Object Model</a></li><li><b>Part Six:</b>&nbsp;<a href="/2015/07/the-internet-writing-automated-test.html">Writing the Automated Test</a></li><li><b>Source Code:</b>&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced">GitHub, T.J. Maher</a></li></ul></div><br /><br>-T.J. Maher<br /><i>&nbsp;Sr. QA Engineer, Fitbit</i><br /><i>&nbsp;Boston, MA</i><br /><i><br /></i><i>// Automated tester for [ 4 ] month and counting!</i><br /><i><br /></i><i>Please note: 'Adventures in Automation' is a personal blog about automated testing. It is not an official blog of&nbsp;<a href="http://www.fitbit.com/" target="_blank">Fitbit.com</a>.&nbsp;</i></div><br /><div></div>