---
layout: post
title: 'Notes on Angie Jones, Make Your Automation Behave: Extending Your Framework
  for BDD (June 28, 2017)'
date: '2017-07-13T07:48:00.000-04:00'
author: T.J. Maher
tags:
- bdd
- Angie Jones
modified_time: '2017-11-03T08:58:35.362-04:00'
thumbnail: https://i.ytimg.com/vi/QX3P_DMoqlQ/default.jpg
blogger_id: tag:blogger.com,1999:blog-3868566217808655382.post-8953561026617022229
blogger_orig_url: http://www.tjmaher.com/2017/07/notes-on-angie-jones-make-your.html
---

Notes, <b><u>Make Your Automation Behave: Extending Your Framework for BDD</u></b><br /><div>Given by Angie Jones, held on Jun 28, 2017 &nbsp;</div><div>Recording:&nbsp;<a href="http://www.softwaretestpro.com/make-your-automation-behave-extending-your-framework-for-bdd/" target="_blank">A Software Test Professionals Webinar</a>&nbsp;(STP)<br /><br /><div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_text_0" style="background: rgb(255, 255, 255); border: 0px; box-sizing: border-box; color: #666666; font-family: &quot;Open Sans&quot;, Arial, sans-serif; font-size: 14px; margin: 0px 0px 18.4219px; outline: 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word;"><div style="background: transparent; border: 0px; box-sizing: border-box; outline: 0px; padding: 0px 0px 1em; vertical-align: baseline;">"When done properly, Behavior-Driven Development (BDD) can drastically improve the communication and understanding of requirements. An additional benefit is being able to utilize the domain-specific language of the requirements to drive test automation. However, like any other automation initiative, when done poorly, this too can fail.</div><div style="background: transparent; border: 0px; box-sizing: border-box; outline: 0px; padding: 0px 0px 1em; vertical-align: baseline;"><strong style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;"><em style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"In this webinar, Angie Jones provides a hands-on technical look into how to:</em></strong></div><ul style="background: transparent; border: 0px; box-sizing: border-box; line-height: 26px; list-style-image: initial; list-style-position: inside; margin: 0px; outline: 0px; padding: 0px 0px 23px 1em; vertical-align: baseline;"><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"utilize Gherkin-written scenarios for test automation</li><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"write scenarios in a way that promote maintainability and reusability</li><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"take advantage of advanced Gherkin functionality such as data tables and objects</li><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"tie the scenarios to automation code</li><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"incorporate this approach into existing automation frameworks that use the page object model design pattern</li><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"share state across multiple steps within a scenario</li></ul><div style="background: transparent; border: 0px; box-sizing: border-box; outline: 0px; padding: 0px; vertical-align: baseline;"><strong style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;"><em style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"Upon completion of this webinar, you’ll have a better understanding of how to:</em></strong></div><ul style="background: transparent; border: 0px; box-sizing: border-box; line-height: 26px; list-style-image: initial; list-style-position: inside; margin: 0px; outline: 0px; padding: 0px 0px 23px 1em; vertical-align: baseline;"><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"Enhance your BDD initiative with test automation</li><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"Cleanly extend an automation framework to support executable requirement specifications</li><li style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"Support advanced techniques such as data tables and objects within specifications, as well as sharing state through dependency injection".</li></ul></div><div class="et_pb_text et_pb_module et_pb_bg_layout_light et_pb_text_align_left  et_pb_text_1" style="background: rgb(255, 255, 255); border: 0px; box-sizing: border-box; color: #666666; font-family: &quot;Open Sans&quot;, Arial, sans-serif; font-size: 14px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline; word-wrap: break-word;"><h3 style="background: transparent; border: 0px; box-sizing: border-box; color: #333333; font-size: 22px; font-weight: 500; line-height: 1em; margin: 0px; outline: 0px; padding: 0px 0px 10px; vertical-align: baseline;">The Speaker:</h3><div style="background: transparent; border: 0px; box-sizing: border-box; outline: 0px; padding: 0px 0px 1em; vertical-align: baseline;"><img alt="Angie Jones" class="alignleft size-full wp-image-6245" src="http://www.softwaretestpro.com/wp-content/uploads/2017/05/Angie-Jones.gif" height="159" style="background: transparent; border: 0px; box-sizing: border-box; display: inline; float: left; height: auto; margin: 0px 15px 0px 0px; max-width: 100%; outline: 0px; padding: 0px; vertical-align: baseline;" width="163" /><strong style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;"><em style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">"Angie Jones</em></strong>&nbsp;is a Senior Software Engineer in Test at Twitter who has developed automation strategies and frameworks for countless software products. As a Master Inventor, she is known for her innovative and out-of-the-box thinking style which has resulted in more than 20 patented inventions in the US and China. Angie shares her wealth of knowledge by speaking and teaching at software conferences all over the world".</div><h3 style="background: transparent; border: 0px; box-sizing: border-box; color: #333333; font-size: 22px; font-weight: 500; line-height: 1em; margin: 0px; outline: 0px; padding: 0px 0px 10px; vertical-align: baseline;">Speaker Contact Details:</h3><div style="background: transparent; border: 0px; box-sizing: border-box; outline: 0px; padding: 0px; vertical-align: baseline;"><strong style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;"><em style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Angie Jones – Senior Software Engineer in Test, Twitter</em></strong><br /><strong style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Twitter:</strong>&nbsp;<a href="https://twitter.com/techgirl1908" rel="noopener" style="background: transparent; border: 0px; box-sizing: border-box; color: #edb059; margin: 0px; outline: 0px; padding: 0px; text-decoration-line: none; vertical-align: baseline;" target="_blank">@techgirl1908</a><br /><strong style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">LinkedIn:</strong>&nbsp;<a href="http://www.linkedin.com/in/angiejones" rel="noopener" style="background: transparent; border: 0px; box-sizing: border-box; color: #edb059; margin: 0px; outline: 0px; padding: 0px; text-decoration-line: none; vertical-align: baseline;" target="_blank">Angie Jones</a><br /><strong style="background: transparent; border: 0px; box-sizing: border-box; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Website:</strong>&nbsp;<a href="http://www.angiejones.tech/" rel="noopener" style="background: transparent; border: 0px; box-sizing: border-box; color: #edb059; margin: 0px; outline: 0px; padding: 0px; text-decoration-line: none; vertical-align: baseline;" target="_blank">AngieJones.tech</a></div></div><br /><a name='more'></a>STP will be hosting a software testing conference, STPCon, on September 25 - 29, 2017 in Washington, DC. You can register at <a href="http://stpcon.com/event-schedule" target="_blank">http://STPCon.com/event-schedule</a><br /><br />Angie gave a Q&amp;A session to the Ministry of Testing - Boston Tuesday, 11, 2017 at&nbsp;<a href="https://www.meetup.com/ministry-of-testing-boston/events/240813119/" target="_blank">https://www.meetup.com/ministry-of-testing-boston/events/240813119/</a><br /><br /><b><u>Recording: Make Your Automation Behave</u></b><br /><iframe allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/QX3P_DMoqlQ" width="560"></iframe> <br /><b><u>Slides:</u></b><br /><iframe allowfullscreen="" frameborder="0" height="420" mozallowfullscreen="" scrolling="no" src="//slides.com/angiejones/pom-bdd/embed" webkitallowfullscreen="" width="576"></iframe> <br /><div class="p1"><br /><br /><br /><b>Looking to add BDD to your test suite?</b><br /><br />You do not have to abandon your sturdy old framework to implement BDD. You can simply extend it!<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">The Page Object is the industry design standard, modeling an object on the page you are testing, encapsulating how to interact with radio buttons or textboxes. You then create public methods that interact with these private methods. These methods can be used in your tests.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Behavior Driven Development:</div><ul class="ul1"><li class="li1"><span class="s1"></span>The Three Amigos, a QA, DEV and Product owner discuss how a certain feature should behave. You can describe it in the Gherkin style language.<span class="Apple-converted-space">&nbsp;</span></li></ul><div class="p2"><br /></div><div class="p1"><i>Want to read how <b>George Dinwiddie</b>, Agile Adoption Coach, came up with the concept of “The Three Amigos”?&nbsp;</i><br /><br /><ul><li><i>Read his The Tree Amigos Strategy of Developing User Stories <a href="https://www.agileconnection.com/article/three-amigos-strategy-developing-user-stories"><span class="s2">https://www.agileconnection.com/article/three-amigos-strategy-developing-user-stories</span></a> (April 24, 2014).&nbsp;</i></li><li><i>See LinkedIn profile <a href="https://www.linkedin.com/in/gdinwiddie/"><span class="s2">https://www.linkedin.com/in/gdinwiddie/</span></a> Blog <a href="http://idiacomputing.com/"><span class="s2">http://idiacomputing.com/</span></a></i></li></ul></div><div class="p2"><br /></div><div class="p2"><br /></div><div class="p1"><i>See Dan North, creator of the Behavior Driven Development (BDD), and JBehave, and then RSpec, being interviewed at OOPSLA 2007. <a href="https://youtu.be/qWsnmx45734"><span class="s2">https://youtu.be/qWsnmx45734</span></a>&nbsp;</i><br /><br /><ul><li><i>Cucumber started off as being a compliment to RSpec and Dan North’s work.<span class="Apple-converted-space">&nbsp;</span></i></li></ul></div><div class="p2"><br /></div><div class="p1">Let’s say you have two source branches of your code:</div><ul class="ul1"><li class="li1"><span class="s1"></span>src/main/java</li><li class="li1"><span class="s1"></span>src/test/java</li></ul><div class="p1">Your main branch can contain the page objects. The test branch can contain the packageds cucumber -&gt; features.</div><div class="p2"><br /></div><div class="p1">Install the Cucumber plug into your framework’s Maven or Gradle files. If you go to Cucumber.Io it has documentation how to do this.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">You can have as many feature files as you want.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Feature: Search for Products</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>As a user, I want to search the catalog so that I can find specific products</div><div class="p2"><br /></div><div class="p1">Scenario: Click search result</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>Given there is a product named ‘Apple TV’</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>And I search for the product</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>When I click the product</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>Then I should be taken to the product page</div><div class="p2"><br /></div><div class="p1">This feature file acts as manual documentation for how the software product is supposed to work.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Givens: Setup before the test starts</div><div class="p1">When: The actual test</div><div class="p1">Then: The results of the test.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Note that we don’t have any extraneous details, where to click, how to see the product is Apple TV. Testers can be a bit long-winded being too explicit what each step means.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Push the details down to the code level.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Under src/test/java/cucumber, Angie likes adding two directories:</div><ul class="ul1"><li class="li1"><span class="s1"></span>features</li><li class="li1"><span class="s1"></span>stepdefs</li></ul><div class="p2"><br /></div><div class="p1">The “features” folder contains the outlines for the scenarios.<span class="Apple-converted-space">&nbsp;</span></div><div class="p1">One steps definitions per functional area keeps things clean.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">These are all you need for Cucumber. You can use your already written Page Objects into your tests.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">public class SearchStepDefs {</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>protected String productName;</div><div class="p2"><span class="Apple-converted-space">&nbsp;&nbsp; &nbsp;</span></div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>@Given(“^threre is a product named (.*)$”)</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>public void setProduct(String productName) {</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; &nbsp; &nbsp; </span>this.productName = productName;</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>}</div><div class="p1">}</div><div class="p2"><br /></div><div class="p1">@Given, @When, @Then, are annotations borrowed from Cucumber.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">@When(“^I search for the product$”)</div><div class="p1">public void search(){</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>Page currentPage = new Page(BaseTests.getWebDriver());</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>searchResults = currentPage.search(productName);</div><div class="p1">}</div><div class="p2"><br /></div><div class="p1">… Angie is using the getWebDriver() method already declared in her framework to spin up a new WebDriver.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">A new instance of the page is spun up, in order to create a search method.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">@When(“^I click the product$”)</div><div class="p1">public void clickProduct(){</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>currentPage = searchResults.clickProduct(productName);</div><div class="p1">}</div><div class="p2"><br /></div><div class="p1">Note, we are NOT dealing with elements in our step definitions just as we do not deal with them in our test classes. Keep it clean!<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Let’s create a new method… clickProduct… and put it in our ProductPage.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">public ProductPage clickProduct(String productName){</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>WebElement product = findProduct(productName);</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>product.findElement(productTitle).click();</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>return new ProductPage(webDriver);<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">@Then(“^I should be taken to the product page$”)</div><div class="p1">public void verifyProductPage(){</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>ProductPage productPage = (ProductPage)currentPage;</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>Assert.assertEquals(“Page title”,productPage.getTitle());</div><div class="p1">}</div><div class="p2"><br /></div><div class="p1">We are using existing code in our step definitions.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Let’s try a different scenario:</div><div class="p2"><br /></div><div class="p1">Scenario: Add the product from search result to cart</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>Given there is a product named Apple TV</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>When I search for the product<span class="Apple-converted-space">&nbsp;</span></div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>And I add the product to the cart</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>Then the product should be in the cart</div><div class="p2"><br /></div><div class="p1">We don’t want to add cart step definitions to our search step definitions… that becomes messy and unorganized. Yes, it is a search test, but we really should create CartStepDefs, adding it to BaseStepDefs and SearchStepDefs. Cucumber can search through our library of Step Defs.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Therefore, we can write:</div><div class="p2"><br /></div><div class="p1">public class CartStepDefs {</div><div class="p2"><br /></div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>@Then(“^the product should be in the cart$”)</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>public void verifyProductInCart(){</div><div class="p1"><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; </span>CartPage cartPage = new CartPage(BaseTests.getWebDriver());</div><div class="p1"><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; </span>Assert.assertTrue( productName + “is in cart”, cartPage.isProductInCart(productName));</div><div class="p1"><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; </span>Assert.assertEquals( “Number of items in cart”, 1, cartPage.getNumberOfProducts(());</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>}</div><div class="p1">}</div><div class="p2"><br /></div><div class="p1">How do you share data across multiple steps and multiple classes? Dependency Injection!</div><div class="p2"><br /></div><div class="p1">Pass a dependency to whoever needs it. Create a BaseStepDefiniton that holds globals that will be needed across all steps, such as the productName variable.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">public class BaseStepDefs {</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>protected String productName;</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>protected Page currentPage;</div><div class="p2"><br /></div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>public BaseStepDefs() {</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>currentPage = new Page(BaseTests.getWebDriver());</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>}</div><div class="p2"><span class="Apple-converted-space">&nbsp;&nbsp; &nbsp;</span></div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>@Given(“^there is a product named (.*)$”)</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>public void setProduct(String productName) {</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; &nbsp; &nbsp; </span>this.productName = productName;</div><div class="p1"><span class="Apple-converted-space">&nbsp;&nbsp; </span>}</div><div class="p1">}</div><div class="p2"><br /></div><div class="p1">… Now we need to inject this in the class that needs this dependency.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">There are many ways you can set up dependency injection. Angie Jones likes using pico container in Spring.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><div class="p1">Check in <a href="http://cucumber.io/"><span class="s2">Cucumber.io</span></a> on how to do this.<span class="Apple-converted-space">&nbsp;</span></div><div class="p2"><br /></div><style type="text/css">p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #454545} p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #454545; min-height: 14.0px} li.li1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; color: #454545} span.s1 {font: 10.0px Menlo} span.s2 {color: #e4af0a} ul.ul1 {list-style-type: disc} </style>                                                                                                                                           <br /><div class="p1">Add a constructor to each of the dependent classes, then include the dependency as an argument.<span class="Apple-converted-space">&nbsp;</span></div><br /><br />Happy Testing! <br /><br />-T.J. Maher<br /><a href="https://twitter.com/tjmaher1" style="color: #1155cc;" target="_blank">Twitter</a>&nbsp;|&nbsp;<a href="https://www.linkedin.com/in/tjmaher1" style="color: #1155cc;" target="_blank">LinkedIn</a>&nbsp;|&nbsp;<a href="https://github.com/tjmaher" style="color: #1155cc;" target="_blank">GitHub</a><br /><br /><i>// Sr. QA Engineer, Software Engineer in Test, Software Tester since 1996.<br />// Contributing Writer for&nbsp;<a href="http://techbeacon.com/contributors/thomas-maher" style="color: #1155cc;" target="_blank">TechBeacon.</a><br />// "Looking to move away from manual QA?&nbsp;Follow&nbsp;<a href="http://www.tjmaher.com/" style="color: #1155cc;" target="_blank">Adventures in Automation</a>&nbsp;on <a href="https://www.facebook.com/AdventuresInAutomation/" target="_blank">Facebook</a>!"</i></div>