---
layout: post
title: 'Setup of Selenium Grid for Beginners: Brace yourself! We''re Using the Command
  Line'
date: '2016-07-04T19:42:00.003-04:00'
author: T.J. Maher
tags:
- beginner
- CommandLine
- SeleniumGrid
modified_time: '2016-07-07T01:38:18.106-04:00'
thumbnail: https://3.bp.blogspot.com/-KlJlQnwi0x4/V3neq2Z9ouI/AAAAAAAALNo/tTNORooJTOUZyZaB50BnBB6Qrcud0o3bgCLcB/s72-c/grid.png
blogger_id: tag:blogger.com,1999:blog-3868566217808655382.post-8250833972812549512
blogger_orig_url: http://www.tjmaher.com/2016/07/setup-of-selenium-grid-for-beginners.html
---

Are you a manual tester who really wants to tinker with setting up Selenium Grid with your automated test framework, but is skittish about using a Command Line Interface? This blog entry is an attempt to walk you through it, every step of the way. Is there a detail I missed? Anything too vague? Please let me know in the comments section, below. Using the Command Line is tough, but it is something every tester needs to get used to... with time, you will have fun using it. (Or that is what I keep telling myself! :) )<br /><br /><ul><li>Don't have an automated test framework set up? Take a look at a basic one I have for <a href="http://www.tjmaher.com/2016/05/webdriver-development-environment-setup.html">IntelliJ</a> and <a href="http://www.tjmaher.com/2016/06/webdriver-development-environment-setup.html">Eclipse</a>.</li></ul><br />For this example, I will be setting up Selenium Grid a Windows 10 box, what I use at home. Feel free to set it up on whatever Mac or Linux/ Unix operating system you have. We aren't going to be doing a deep dive on any of the moving parts. That will come later. This article is focusing on the setup.<br /><br />Directions can be found on <b>SeleniumHQ's Grid 2 GitHub</b> site:&nbsp;<a href="https://github.com/SeleniumHQ/selenium/wiki/Grid2">https://github.com/SeleniumHQ/selenium/wiki/Grid2</a><br /><br /><a name='more'></a><br /><br /><h2>0. Pre-requisites:</h2><b>0.1. &nbsp;Knowing how to start your Operating System's Command Line Interface:</b><br /><ul><li>PC: If using Windows 10, in the "Search Windows" textbox next to the Start menu, type in: cmd</li><li>Mac: Start the "Terminal".</li></ul><b>0.2. &nbsp;Because the Selenium Server is delivered as an Executable Java Archive file</b> -- a JAR file that can be run on your local machine -- Java needs to be installed on your computer. Find out what Java version you have.<br /><br /><ul><li>&nbsp;PC &amp; Mac: Type in: java -version</li></ul>... If it is a bad command, you need to install Java onto your system. Go to <a href="http://www.java.com/">Java.com</a>&nbsp;to install Java. <br /><br /><h2>1. Setup a Directory for Selenium Server</h2><br /><b>1.1. </b>&nbsp;<b>Start your Operating System's Command Line Interface:</b><br /><br /><ul><li>PC: Shortcut to Command Prompt: If using Windows 10, in the "Search Windows" textbox next to the Start menu, type in: cmd</li><li>Mac: Start the "Terminal".</li></ul><br /><b>1.2.</b> &nbsp;<b>Go to the root directory in the Command Line:</b><br /><br /><ul><li>PC: Type in: cd \</li><li>Mac: Type in: cd /</li></ul><br /><br /><b>1.3.</b> &nbsp;<b>Create a folder called "drivers" at the root directory. For this example, this will be the home of Selenium Server.</b><br /><ul><li>PC &amp; Mac: Type in: mkdir drivers</li></ul><br /><h2>2. Download Selenium Standalone Server</h2>Set up the Selenium Server to run as a Hub.<br /><br /><b>2.1</b>. &nbsp;<b>Get the latest copy of the Selenium Standalone Server, and place it in a folder that is easily accessible.</b><br /><ul><li>Go to the SeleniumHQ Download Page at&nbsp;<a href="http://docs.seleniumhq.org/download/">http://docs.seleniumhq.org/download/</a>&nbsp;</li><li>The link to the current version to download selenium-server-standalone is listed in the Selenium Standalone Server paragraph. At the time of this blog the download version is: 2.53.1&nbsp;</li><li>Right click on the link and select "Save link as..."&nbsp;</li><li>Save this executable Jar File somewhere easy to remember for now. I created for this example a directory called "drivers" on my C: drive and placed&nbsp;<b><i>selenium-server-standalone-2.53.1.jar</i></b> there.&nbsp;</li></ul><b><br /></b><b>2.2 &nbsp;Verify that the file has been created.</b><br /><ul><li>PC: The command "dir" shows the directory listing. Type in: dir \drivers</li><li>Mac: The command "ls" shows the list of files in directory. Type in: ls /drivers&nbsp;</li></ul>Note: These commands will work wherever you are in your directory structure. "\" for the PC and "/" for the Mac acts as shortcuts to go to the root directories.  <br />Make sure that the file listed is:&nbsp;selenium-server-standalone-2.53.1.jar<br /><br /><h2>3. Start the Selenium Server</h2><br /><b>3.1. Go to the directory where Selenium Server is located: </b><br /><ul><li>PC: Type in: cd \drivers</li><li>Mac: Type in: cd /drivers</li></ul><br /><b>3.2. Start the Selenium Server:</b><br /><b><br /></b><br /><pre style="background: rgb(240, 240, 240); border: 1px dashed rgb(204, 204, 204); font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; width: 646.469px;"><code style="word-wrap: normal;"> java -jar selenium-server-standalone-2.53.1.jar -role hub<br /></code></pre><div><code style="word-wrap: normal;"><br /></code></div>That command will start the Selenium Server. Possibly. There may be errors.  <br /><ul><li>Success: Message: Selenium Grid hub is up and running</li><li>Failure: Error messages, plus a huge stack trace and a help file.</li></ul><br />Did you get a message such as Java.net.BindException: Address is already in use? That's what happened to me. I may have accidentally double-clicked multiple instances of Selenium Server when writing this documention.<br /><br />By default, the Selenium Server runs on port 4444. You can shut down a Selenium Server that failed by running: <br /><ul><li><a href="http://localhost:4444/selenium-server/driver/?cmd=shutDownSeleniumServer">http://localhost:4444/selenium-server/driver/?cmd=shutDownSeleniumServer</a></li></ul>Or, you can just choose another port to use. Take a note of what you are using, such as port 4445:<br /><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> java -jar selenium-server-standalone-2.53.1.jar -role hub -port 4445  <br /></code></pre><br />3.3. &nbsp;Verify that the Selenium Server has started:  <br /><ul><li>Open up your favorite browser and go to: <a href="http://localhost:4444/">http://localhost:4444/</a></li><li>Check that you see:</li></ul>"You are using grid 2.53.1<br />"Find help on the official selenium wiki :&nbsp;<a href="https://github.com/SeleniumHQ/selenium/wiki/Grid2">more help here</a><br />"default monitoring page :&nbsp;<a href="http://localhost:4444/grid/console">console</a>"<br /><br /><ul><li>Select the link to the console.&nbsp;</li></ul><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-KlJlQnwi0x4/V3neq2Z9ouI/AAAAAAAALNo/tTNORooJTOUZyZaB50BnBB6Qrcud0o3bgCLcB/s1600/grid.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="193" src="https://3.bp.blogspot.com/-KlJlQnwi0x4/V3neq2Z9ouI/AAAAAAAALNo/tTNORooJTOUZyZaB50BnBB6Qrcud0o3bgCLcB/s320/grid.png" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><i>Congratulations! It's a Selenium Hub!</i></td></tr></tbody></table><br /><h2>4. Setup a Selenium Node</h2><br /><b>4.1 &nbsp;Start Selenium Node</b><br /><br /><br /><ul><li>Open a new Command Line Interface, go to the drivers directory, and enter:</li></ul><br /><br /><pre style="background: rgb(240, 240, 240); border: 1px dashed rgb(204, 204, 204); font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; width: 646.469px;"><code style="word-wrap: normal;"> java -jar selenium-server-standalone-2.53.1.jar -role node -hub http://localhost:4444/grid/register  </code></pre><br />You will see a message that the node is ready for use!<br /><br />Let's verify that:<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-0KVhBykTD1g/V3nlXLQ8t-I/AAAAAAAALOA/Enzkv36kgT8JpraY-QAKd3T35JS4X-DewCLcB/s1600/console.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="381" src="https://3.bp.blogspot.com/-0KVhBykTD1g/V3nlXLQ8t-I/AAAAAAAALOA/Enzkv36kgT8JpraY-QAKd3T35JS4X-DewCLcB/s400/console.png" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><i>My Windows 10 Machine</i></td></tr></tbody></table>Note that the Hub is running on 192.168.1.5, port 5555 (http://192.168.1.5:5555)<br /><br />These are all the browsers on the machine you are using at the moment. Since I'm using as an Operating System Windows 10, that is what is listed.<br /><br />Disregard the "Remote Control (legacy)" browsers those are for an earlier version, Selenium RC.<br /><br />We can spin up three types of browsers for our automated test framework. Hover your cursor over them to see the browser names. We will need them later.<br /><br /><h2>Hook Up Selenium Grid with Your Automation Framework</h2>What? Don't have an automated test framework ready to go? Not sure of what one is? Follow one of these links to walk you through&nbsp;setting up a new Gradle Java product, the Java Gradle plugin, setting up dependencies, &nbsp;creating browser tests in Firefox and Chrome, and how to match values using Hamcrest:<br /><ul><li>Using&nbsp;<a href="http://www.tjmaher.com/2016/05/webdriver-development-environment-setup.html">IntelliJ</a>&nbsp;</li><li>Using&nbsp;<a href="http://www.tjmaher.com/2016/06/webdriver-development-environment-setup.html">Eclipse</a>.&nbsp;</li></ul>Let's write a very quick-and-dirty WebDriver test to get us going:<br /><br /><pre class="brush: java">@Test<br />public void test_FirefoxNavigatesToLoginPage() throws Exception  {<br />   driver = new FirefoxDriver();<br />   driver.get("http://the-internet.herokuapp.com/login");<br />   assertThat(driver.getTitle(), is(equalTo("The Internet")));<br />}<br /></pre><br />The test:<br /><br /><ul><li>Goes to Dave Haeffner's test site,&nbsp;<a href="http://the-internet.herokuapp.com/login">http://the-internet.herokuapp.com/login</a></li><li>Opens up a new Firefox browser on your local machine</li><li>Asserts that the title is "The Internet".&nbsp;</li></ul><div>If we make the driver we are using an instance of RemoteWebDriver instead of just WebDriver, we get a lot more flexibility. You can open up browsers on other environments than on your local machine. If you are on a Mac, you can set up and use browser nodes on a PC or a Linux machine in your automated tests. All you would need to do is pass along the location of your Selenium Hub (in this case, "http://192.168.1.5:5555/wd/hub").</div><div><br /></div><div>You can also set up, once you have the browser nodes, the corresponding Desired Capabilities, setting up the:</div><div><ul><li>Browsers: Chrome, Firefox, MS Edge, Android, etc.</li><li>Browser name, what you want to call the browser configuration you are setting up.&nbsp;</li><li>Platform, whether generic Windows, Win8, Win10, generic Mac, Mountain Lion, El Capitan, etc.&nbsp;</li></ul></div><br />Remember, unless you are using Sauce Labs preset nodes, you need to have a machine with the pre-existing capabilities.<br /><br />See&nbsp;<a href="https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities">https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities</a> for a complete list.<br /><br />Let's do the same test again, but this time, call a RemoteWebDriver in a setup method and handle the desired capabilities there. <br /><br /><pre class="brush: java">public class LoginPageTest {<br />private RemoteWebDriver driver;<br /><br />@Before<br />public void setUp() throws Exception {<br />   DesiredCapabilities capabilities = DesiredCapabilities.firefox();<br />   capabilities.setBrowserName("firefox");<br />   capabilities.setPlatform(Platform.WIN10);<br />   driver = new RemoteWebDriver(new URL("http://192.168.1.5:5555/wd/hub"), capabilities);<br />}<br /><br />@Test<br />public void test_FirefoxGridNavigatesToLoginPage() throws Exception  {<br />   driver.get("http://the-internet.herokuapp.com/login");<br />   assertThat(driver.getTitle(), is(equalTo("The Internet")));<br />}<br /><br />@After<br />public void closeBrowsers() throws Exception {<br />   driver.quit();<br />   }<br />}<br /><br /></pre>... And the test passed!<br /><br />Coming up in the next few weeks, now that we have the basics, we'll build on that:<br /><br /><ul><li>We covered the <a href="http://www.tjmaher.com/2016/07/setting-up-docker-easy-way-on-mac-or.html">basics of Docker</a>, and the basics of Selenium Grid. <b>Next up</b>: We combine the two!</li><li>We add Selenium Grid to the automated testing framework w/ Gradle we started building in&nbsp;<a href="http://www.tjmaher.com/2016/05/webdriver-development-environment-setup.html">IntelliJ</a>&nbsp;and&nbsp;<a href="http://www.tjmaher.com/2016/06/webdriver-development-environment-setup.html">Eclipse</a>, refactoring the DesiredCapabilities into its own library.&nbsp;</li><li>We add multi-threading to the automated test framework, so we can run tests in parallel.</li></ul><br /><br />Happy Testing, and have a Happy Fourth of July! <br /><br />-T.J. Maher<br />Sr. QA Engineer, <br />Fitbit-Boston<br /><br /><i>// QA Engineer since Aug. 1996 <br />// Automation developer for [ 1.5 ] years and still counting!<br />// Check out Adventures in Automation out on <a href="https://www.facebook.com/AdventuresInAutomation/">Facebook</a>! </i>