---
layout: post
title: 'Automate Amazon: ProductEnums and ProductObjects'
date: '2016-01-04T00:20:00.000-05:00'
author: T.J. Maher
tags:
- code examples
- Java
- Page Object
- pojos
- WebDriver
- test framework
modified_time: '2016-04-29T07:51:38.118-04:00'
blogger_id: tag:blogger.com,1999:blog-3868566217808655382.post-7518099358610300990
blogger_orig_url: http://www.tjmaher.com/2016/01/automate-amazon-productenums-and.html
---

<i>This post is fifth of a series of nine. Need to go <a href="/2015/12/next-week-automating-amazon-how-i-am.html" target="_blank">back to the beginning</a>?</i><br><br>What good would a shopping cart test be without adding any test products? Let's investigate how to get to the product items on Amazon.<br /><br /><h3>What our Directory Structure Will Look Like</h3><br />After we store Url and Product locations in Enums, add to the the Actions classes, create a Book pojo to store values of a Book product, and add the ProductsPage page object, our test structure could look like this:<br /><br /><a name='more'></a><br /><br /><b>src/test/java</b><br /><ul><li>actions</li><ul><li>OrderActions</li></ul><li>base</li><ul><li>LoadProperties</li></ul><li>enums</li><ul><li>Products</li><li>Url</li></ul><li>pages</li><ul><li>HomePage</li><li>SignInPage</li><li>ProductPage</li></ul><li>pojo</li><ul><li>Book</li></ul><li>properties</li><ul><li>user.properties</li></ul><li>testcases</li><ul><li>PurchaseOrderTest</li></ul><li>utils</li><ul><li>CommonUtils</li><li>DriverUtils</li></ul></ul><br><h3><br /></h3><h3>Store Product Locations in Enums</h3><div><div><ol><li>When I searched for Douglas Adams' The Hitchhiker's Guide to the Galaxy, I saw there were many different versions of the four book "trilogy". The Mass Market Paperback edition was at&nbsp;<a href="http://www.amazon.com/gp/product/0345391802">http://www.amazon.com/gp/product/0345391802</a>.</li><li>After a bit more investigation, I saw that all product information was stored in the same subfolders /gp/product, and had a series of numbers that referenced the product.&nbsp;</li></ol></div></div><div>Under my <b>src/test/java</b> created a subfolder named "<b>enums</b>", and created two new enum classes: Url and Products.</div><div><br /></div><div><b>Url.java</b></div><div><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  package enums;  <br />2:  /**  <br />3:   * Created by tmaher on 12/22/2015.  <br />4:   */  <br />5:  public enum Url {  <br />6:    PRODUCT_SECTION("/gp/product"),  <br />7:    BASEURL("http://www.amazon.com");  <br />8:     <br />9:    String url;  <br />10:    Url(String url){  <br />11:      this.url = url;  <br />12:    }  <br />13:    public String getURL() {  <br />14:      return url;  <br />15:    }  <br />16:  }  <br /></code></pre><div><br />... If we were to grow the tests into different sections, we could add the different product sections here.<br /><br />Why turn the URL into a constant? What if you wanted to use the same automation script on different environments, such as if they had internal test servers such as "qa2.amazon.com" or "qa1.amazon.com"? This way we can store all the different types of environments in the same place.<br /><br /></div><div><b>Products.java</b></div><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  package enums;  <br />2:  /**  <br />3:   * Created by tmaher on 12/22/2015.  <br />4:   */  <br />5:  public enum Products {  <br />6:    HITCHHIKERS_GUIDE("0345391802", "The Hitchhiker's Guide to the Galaxy");  <br />7:    // The price will always fluctuate. The product id and product title will be more or less constant.  <br />8:    private String id;  <br />9:    private String productTitle;  <br />10:    Products(String id, String productTitle){  <br />11:      this.id = id;  <br />12:      this.productTitle = productTitle;  <br />13:    }  <br />14:    public String getProductId(){  <br />15:      return id;  <br />16:    }  <br />17:    public String getProductTitle(){  <br />18:      return productTitle;  <br />19:    }  <br />20:  }  <br /></code></pre><div><br /></div><div>... We can have a whole series of test products, each with their own enum, id, and product title. We can expand this enum to store more constants. I don't believe we should ever store "price" in an enum, since it always seems to fluctuate.<br /><br />Now, to navigate to the product page, it would be:</div><div><br /></div><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:   public void navigateToProductPage(Products product){  <br />2:      String url = Url.BASEURL.getURL() + Url.PRODUCT_SECTION.getURL() + "/" + product.getProductId();  <br />3:      navigateToURL(url);  <br />4:      System.out.println("PRODUCT_PAGE: Navigated to " + url);  <br />5:    }  <br /></code></pre><h3>ProductPage</h3>If you go to the Product Page for The Hitchhiker's Guide to the Galaxy,&nbsp;<a href="http://www.amazon.com/gp/product/0345391802">http://www.amazon.com/gp/product/0345391802</a>, you can see a few product properties you might want to retrieve and store in case you wanted to compare them to the product properties you see listed as you go through the process of making a purchase.<br /><br />For example, there is:<br /><br /><ul><li>Product Title: You can check that the title listed is the same one as in the Product enum.</li><li>Author: The author, no matter what version, will be the late great Douglas Adams.</li><li>Edition: Mass Market Paperback</li><li>Price: Some days it is $6.00. Some days it is $7.00. No matter what the price is that day, we need to make sure that as you add the product to the cart, and check out with the product, that the same price is retained.&nbsp;</li><li>There is also the Add to Cart button we may want to click.&nbsp;</li></ul><br />You can find out how to interact with these web elements by firing up Firefox, right clicking on the elements, "Inspect in Firepath", and see what turns up under a CSS Selector.<br /><br />Under the subdirectory, "pages" we could have:<br /><br /><b>ProductPage.java</b><br /><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  package pages;  <br />2:  import enums.Products;  <br />3:  import enums.Url;  <br />4:  import org.openqa.selenium.By;  <br />5:  import org.testng.TestException;  <br />6:  import utils.CommonUtils;  <br />7:  /**  <br />8:   * Created by tmaher on 12/21/2015.  <br />9:   */  <br />10:  public class ProductPage extends CommonUtils {  <br />11:    private final By PRODUCT_TITLE = By.cssSelector("#productTitle");  <br />12:    private final By AUTHOR = By.cssSelector(".a-link-normal.contributorNameID");  <br />13:    private final By EDITION = By.cssSelector(".a-size-medium.a-color-secondary.a-text-normal");  <br />14:    private final By PRICE = By.cssSelector(".a-size-medium.a-color-price.offer-price.a-text-normal");  <br />15:    private final By ADD_TO_CART = By.cssSelector("#add-to-cart-button");  <br />16:    public void navigateToProductPage(Products product){  <br />17:      String url = Url.BASEURL.getURL() + Url.PRODUCT_SECTION.getURL() + "/" + product.getProductId();  <br />18:      navigateToURL(url);  <br />19:      System.out.println("PRODUCT_PAGE: Navigated to " + url);  <br />20:    }  <br />21:    public void verifyProductTitle(String expectedTitle){  <br />22:      String actualTitle = getProductTitle();  <br />23:      System.out.println("PRODUCT_PAGE: Verifying that the product title is '" + actualTitle + "'");  <br />24:      if (!expectedTitle.equals(actualTitle)){  <br />25:        throw new TestException("ERROR: PRODUCT_PAGE: Product Title is ['" + actualTitle + "']. Expected ['" + expectedTitle + "'].");  <br />26:      }  <br />27:    }  <br />28:    public String getProductTitle(){  <br />29:      return getElementText(PRODUCT_TITLE);  <br />30:    }  <br />31:    public String getAuthor(){  <br />32:      return getElementText(AUTHOR);  <br />33:    }  <br />34:    public String getEdition(){  <br />35:      return getElementText(EDITION);  <br />36:    }  <br />37:    public String getPrice(){  <br />38:      return getElementText(PRICE);  <br />39:    }  <br />40:    public void clickAddToCart(){  <br />41:      System.out.println("PRODUCT_PAGE: Clicking on [ADD_TO_CART] button. \n");  <br />42:      click(ADD_TO_CART);  <br />43:    }  <br />44:  }  <br /></code></pre><br /><h3>Creating the Book object</h3>Now that we have a way to retrieve values, we can create a way to store values. When it comes to test products, the simplest way might be in a <b>Plain Old Java Object</b>, or <i>pojo</i>.<br /><br />What is a pojo?<br /><br /><blockquote class="tr_bq"><i>"The term was coined while Rebecca Parsons, Josh MacKenzie and I were preparing for a talk at a conference in September 2000. In the talk we were pointing out the many benefits of encoding business logic into regular java objects rather than using Entity Beans. We wondered why people were so against using regular objects in their systems and concluded that it was because simple objects lacked a fancy name. So we gave them one, and it's caught on very nicely". - <a href="http://www.martinfowler.com/bliki/POJO.html" target="_blank">Martin Fowler</a>, from his <a href="http://www.martinfowler.com/" target="_blank">self-titled site</a>.&nbsp;</i></blockquote>We can use the methods we created with the ProductPage to design a method to load up the object.<br /><br />The internal variables that we initialize are:<br /><br /><ul><li>private String productTitle = "";</li><li>private String author = "";</li><li>private String offerPrice = "";</li><li>private String edition = "";</li></ul><br />We can&nbsp;@Override the toString method, so instead of printing only the name of the object to the console, we can print out the internal variables.<br /><br /><b>Book.java</b><br /><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  package pojo;  <br />2:  import org.testng.TestException;  <br />3:  import pages.ProductPage;  <br />4:  /**  <br />5:   * Created by tmaher on 12/22/2015.  <br />6:   */  <br />7:  public class Book {  <br />8:    private String productTitle = "";  <br />9:    private String author = "";  <br />10:    private String offerPrice = "";  <br />11:    private String edition = "";  <br />12:    public Book(){  <br />13:    }  <br />14:    @Override  <br />15:    public String toString(){  <br />16:      return String.format(  <br />17:          "Product Title: " + this.productTitle + "\n"  <br />18:          + "Author: " + this.author + "\n"  <br />19:          + "Edition: " + this.edition + "\n"  <br />20:          + "Offer Price: " + this.offerPrice + "\n"  <br />21:      );  <br />22:    }  <br />23:    public void loadInfoFromProductPage(){  <br />24:      ProductPage productPage = new ProductPage();  <br />25:      String currentURL = productPage.getCurrentURL();  <br />26:      if (!currentURL.contains("product")){  <br />27:        throw new TestException("LOAD INFO ERROR: Product data should only be loaded from product page!\nCurrent URL: " + currentURL);  <br />28:      } else {  <br />29:        System.out.println("LOAD_INFO: Loading data...\n");  <br />30:        this.productTitle = productPage.getProductTitle();  <br />31:        this.author = productPage.getAuthor();  <br />32:        this.offerPrice = productPage.getPrice();  <br />33:        this.edition = productPage.getEdition();  <br />34:      }  <br />35:    }  <br />36:    public String getProductTitle() {  <br />37:      return productTitle;  <br />38:    }  <br />39:    public void setProductTitle(String productTitle) {  <br />40:      this.productTitle = productTitle;  <br />41:    }  <br />42:    public String getAuthor() {  <br />43:      return author;  <br />44:    }  <br />45:    public void setAuthor(String author) {  <br />46:      this.author = author;  <br />47:    }  <br />48:    public String getOfferPrice() {  <br />49:      return offerPrice;  <br />50:    }  <br />51:    public void setOfferPrice(String offerPrice) {  <br />52:      this.offerPrice = offerPrice;  <br />53:    }  <br />54:    public String getEdition() {  <br />55:      return edition;  <br />56:    }  <br />57:    public void setEdition(String edition) {  <br />58:      this.edition = edition;  <br />59:    }  <br />60:  }  <br /></code></pre><br /><h3>Expanding the Purchase Order Test</h3>Now, we can expand the PurchaseOrderTest to create a new test,&nbsp;test_createPurchaseOrderForSingleProduct, built upon the code for the test_Login.<br /><br /><br /><b><br /></b><b>PurchaseOrderTest.java</b><br /><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  package testcases;  <br />2:  import base.LoadProperties;  <br />3:  import enums.Products;  <br />4:  import org.openqa.selenium.WebDriver;  <br />5:  import actions.*;  <br />6:  import org.testng.annotations.AfterClass;  <br />7:  import org.testng.annotations.BeforeClass;  <br />8:  import org.testng.annotations.Test;  <br />9:  import pages.ShoppingCartReviewPage;  <br />10:  import pojo.Book;  <br />11:  import utils.DriverUtils;  <br />12:  import static org.testng.Assert.assertEquals;  <br />13:  /**  <br />14:   * Created by tmaher on 12/14/2015.  <br />15:   */  <br />16:  public class PurchaseOrderTest {  <br />17:    public WebDriver driver;  <br />18:    @BeforeClass  <br />19:    public void setUp(){  <br />20:      driver = DriverUtils.getDriver();  <br />21:    }  <br />22:    @Test()  <br />23:    public void test_createPurchaseOrderForSingleProduct(){  <br />24:      Products testBook = Products.HITCHHIKERS_GUIDE;  <br />25:      String username = LoadProperties.user.getProperty("tester23.username");  <br />26:      String password = LoadProperties.user.getProperty("tester23.password");  <br />27:      OrderActions orderActions = new OrderActions();  <br />28:      orderActions.navigateToHomePage();  <br />29:      orderActions.loginAs(username, password);  <br />30:      Book bookProductPage = orderActions.loadProductPageDataIntoProductObject(testBook);  <br />31:    }  <br />32:    @AfterClass  <br />33:    public void tearDown(){  <br />34:      driver.quit();  <br />35:    }  <br />36:  }  <br /></code></pre></div><br />Here we are:<br /><ul><li>Instantiating a new Products enum called testBook.&nbsp;</li><li>Setting the value of testBook as <i>Products.HITCHHIKERS_GUIDE</i>.</li><li>Setting Tester23's username and password.</li><li>Instantiating the Page Object called orderActions, so we can use the navigateToHomePage and loginAs methods.&nbsp;</li><li>We then create a new instance of the Book pojo, calling it <i>bookProductPage</i> since it will hold all the values found on the product page.</li><li>We are then calling the method of <i>loadProductPageDataIntoProductObject</i> to retrieve the data from the product page and place it in the Book object we just created.&nbsp;</li></ul><br />But how exactly does the object, once created at runtime, get the values?<br /><br /><b>OrderActions.java</b><br /><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;">1:  package actions;  <br />2:  import enums.Products;  <br />3:  import pages.*;  <br />4:  import pojo.Book;  <br />5:  /**  <br />6:   * Created by tmaher on 12/21/2015.  <br />7:   */  <br />8:  public class OrderActions {  <br />9:    public void navigateToHomePage(){  <br />10:      HomePage homePage = new HomePage();  <br />11:      homePage.navigateToHomePage();  <br />12:    }  <br />13:    public void loginAs(String username, String password){  <br />14:      HomePage homePage = new HomePage();  <br />15:      SignInPage signIn = new SignInPage();  <br />16:      homePage.navigateToSignInPage();  <br />17:      signIn.enterUsername(username);  <br />18:      signIn.enterPassword(password);  <br />19:      signIn.clickSignInButton();  <br />20:    }  <br />21:    public Book loadProductPageDataIntoProductObject(Products product){  <br />22:      System.out.println("Starting process to load info for " + product + ":");  <br />23:      Book book = new Book();  <br />24:      ProductPage productPage = new ProductPage();  <br />25:      productPage.navigateToProductPage(product);  <br />26:      productPage.verifyProductTitle(product.getProductTitle());  <br />27:      book.loadInfoFromProductPage();  <br />28:      System.out.println(book + "\n");  <br />29:      return book;  <br />30:    }  <br />31:  }  <br /></code></pre><br />The method&nbsp;<i>loadProductPageDataIntoProductObject:</i><br /><br /><ul><li>Takes in the value Products.HITCHHIKERSGUIDE and assigns it to the test product.</li><li>Creates a new instance of Book pojo.</li><li>Calls an instance of the ProductPage page object so we can use its methods.</li><li>Navigates to the product page using the BASEURL&nbsp;+ PRODUCT_SECTION&nbsp;+ PRODUCTID we were talking about earlier.&nbsp;</li><li>We load the info from the ProductPage.</li><li>We print out the values to the console.&nbsp;</li></ul><br />When we run the test, it prints out:<br /><br /><pre style="background-image: URL(http://2.bp.blogspot.com/_z5ltvMQPaa8/SjJXr_U2YBI/AAAAAAAAAAM/46OqEP32CJ8/s320/codebg.gif); background: #f0f0f0; border: 1px dashed #CCCCCC; color: black; font-family: arial; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> Navigating to Amazon.com: http://www.amazon.com  <br /> HOME_PAGE: Selecting [YOUR_ACCOUNT] in navigation bar.  <br /> HOME_PAGE: Navigating to the SIGNIN_PAGE.  <br /><br /> SIGNIN_PAGE: Entering username: amzn.tester23@gmail.com  <br /> SIGNIN_PAGE: Entering password.  <br /> SIGNIN_PAGE: Clicking the [SIGN_IN] button.  <br /> <br /> Starting process to load info for HITCHHIKERS_GUIDE:  <br /> PRODUCT_PAGE: Navigated to http://www.amazon.com/gp/product/0345391802  <br /> PRODUCT_PAGE: Verifying that the product title is 'The Hitchhiker's Guide to the Galaxy'<br />  <br /> LOAD_INFO: Loading data... <br /> <br /> Product Title: The Hitchhiker's Guide to the Galaxy  <br /> Author: Douglas Adams  <br /> Edition: Mass Market Paperback  <br /> Offer Price: $6.00  <br /></code></pre><br />With the next blog entry we can investigate adding a product into the cart and initializing the cart.<br /><br />Happy coding!<br /><br /><br /><b>NEXT</b>: <a href="/2016/01/automate-amazon-initializing-login-and.html" target="_blank">Let's Initialize the Shopping Cart and the Login &gt;&gt;</a><br /><br /><br /><br /><div class="toc-section" id="toc-section"><b>Automate Amazon</b>: <br /><ul><li><a href="/2015/12/next-week-automating-amazon-how-i-am.html" target="_blank">Introduction</a></li><li><b>Part One:</b>&nbsp;<a href="/2015/12/automate-amazon-development-environment.html" target="_blank">Environment Setup</a></li><li><b>Part Two:</b>&nbsp;<a href="/2015/12/automate-amazon-sketch-out-use-case.html" target="_blank">Sketch Use Case</a></li><li><b>Part Three:</b>&nbsp;<a href="/2015/12/automate-amazon-commonutils-methods-and.html" target="_blank">CommonUtils, methods, exceptions</a></li><li><b>Part Four:</b>&nbsp;<a href="/2015/12/automate-amazon-writing-sign-in-test.html" target="_blank">Write Sign In Test</a></li><li><b>Part Five:</b>&nbsp;<a href="/2016/01/automate-amazon-productenums-and.html" target="_blank">Product Enums and Objects</a></li><li><b>Part Six:</b>&nbsp;<a href="/2016/01/automate-amazon-initializing-login-and.html" target="_blank">Initializing Login and Cart</a></li><li><b>Part Seven:</b>&nbsp;<a href="/2016/01/automate-amazon-writing-shopping-cart.html" target="_blank">Writing Shopping Cart Test</a></li><li><b>Part Eight:</b>&nbsp;<a href="/2016/01/automate-amazon-sketch-of-possible-data.html" target="_blank">Data Driven Tests with TestNG XML</a></li><li><b>Part Nine:</b>&nbsp;<a href="/2016/01/code-review-request-please-automated.html">Code Review Request, please!&nbsp;</a></li><li><b>Source Code:</b>&nbsp;<a href="https://github.com/tjmaher/automate-amazon/">GitHub, T.J. Maher</a></li></ul></div><br /><br><span style="background-color: white; color: #222222; font-family: &quot;calibri&quot;; font-size: 15.4px; line-height: 21.56px;">-T.J. Maher</span><br /><i style="background-color: white; color: #222222; font-family: Calibri; font-size: 15.4px; line-height: 21.56px;">&nbsp;Sr. QA Engineer, Fitbit</i><br /><i style="background-color: white; color: #222222; font-family: Calibri; font-size: 15.4px; line-height: 21.56px;">&nbsp;Boston, MA</i><br /><i style="background-color: white; color: #222222; font-family: Calibri; font-size: 15.4px; line-height: 21.56px;"><br /></i><i style="background-color: white; color: #222222; font-family: Calibri; font-size: 15.4px; line-height: 21.56px;">// Automated tester for [ 8 ] month and counting!</i><br /><i style="background-color: white; color: #222222; font-family: Calibri; font-size: 15.4px; line-height: 21.56px;"><br /></i><i style="background-color: white; color: #222222; font-family: Calibri; font-size: 15.4px; line-height: 21.56px;">Please note: 'Adventures in Automation' is a personal blog about automated testing. It is not an official blog of&nbsp;<a href="http://www.fitbit.com/" style="color: #888888; text-decoration: none;" target="_blank">Fitbit.com</a>.&nbsp;</i>