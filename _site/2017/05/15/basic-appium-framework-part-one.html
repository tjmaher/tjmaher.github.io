For this next blog series, we will be building a basic Appium Framework built on top of the information gathered in the&nbsp;<a href="http://www.tjmaher.com/2017/04/learning-appium-what-is-appium-server.html" target="_blank">Learning Appium Desktop</a> series. This basic mobile automation test framework we will be constructing will consist of:<br /><br /><ul><li><b>Appium Desktop</b>: To investigate the app we will be writing automated tests for, and to start up an Appium server on our local machine. ( <a href="https://github.com/appium/appium-desktop" target="_blank">Official GitHub site</a> )&nbsp;</li><li><b>An Android Emulator</b>: Created by Android Studio and the Android Virtual Machine (AVM) Manager, connected to your local computer with the Android Debug Bridge ("adb"). (<a href="https://developer.android.com/studio/run/emulator.html" target="_blank"> Official Developer.Android.Com site on emulators</a> )</li><li>The code will be written in the <b>Java Client</b> version of <b>Appium</b> using a <b>MacBook</b> and <b>IntelliJ </b>as an Integrated Development Environment (IDE). Although Android Studio, IntelliJ, and Android .apk files run on both Windows and Macs, the next version of this project will consist of emulated iPhones, iPads and Apple .ipa files use XCode, which (as far as I know) doesn't work on Windows machines. ( Official <a href="https://github.com/appium/java-client" target="_blank">Github for appium/java-client</a> )</li><li>Tests will be kicked off using <b>TestNG</b>. I like the annotations and the built in ability to have parallel tests running. We won't explore it in this particular series, but we will later. ( See the <a href="http://testng.org/doc/" target="_blank">official TestNG site</a> ). &nbsp;</li><li>It will use <b>Hamcrest, </b>a Java matcher program&nbsp;in order to create very readable tests. (Official site for <a href="http://hamcrest.org/" target="_blank">http://hamcrest.org/</a> )</li></ul>I will be attempting to finish code walkthrough over the next two weeks on a Monday / Wednesday / Friday publishing schedule. <br /><br /><a name='more'></a><br /><br />Want to get to the good stuff? I already have the code all written that we will be exploring! You can access it at&nbsp;<a href="https://github.com/tjmaher/basic_appium_framework" target="_blank">https://github.com/tjmaher/basic_appium_framework</a><br /><br />Please feel free to use any IDE you wish to code in: <a href="http://www.vim.org/download.php" target="_blank">vim</a>, <a href="https://www.gnu.org/software/emacs/" target="_blank">emacs</a>, <a href="https://www.nano-editor.org/" target="_blank">nano</a>, <a href="https://www.sublimetext.com/" target="_blank">Sublime Text Editor</a>, <a href="https://www.jetbrains.com/idea/" target="_blank">IntelliJ</a> or <a href="https://eclipse.org/" target="_blank">Eclipse</a>. You could even use <a href="https://developer.android.com/studio/index.html" target="_blank">Android Studio</a>, built on top of IntelliJ. I prefer IntelliJ IDEA, first introduced to it when I was working through Alan Richardson's <a href="http://unow.be/at/webdriverapi" target="_blank">Selenium WebDriver with Java</a> course back in 2013. <br /><br />Disclaimer: Coding in Appium is still brand-new to me. I only first started a month ago, slowly working my way through two online courses. <a href="http://www.tjmaher.com/2017/04/learning-appium-what-is-appium-server.html" target="_blank">Learning Appium Desktop</a>, the initial setup, took so much longer than I thought it was going to!<br /><br />Because it was so complex, even though we just covered all this content month ago, you might need a review... I sure did! Last week, when I was ramping up a co-worker on setting up Appium Desktop on his machine ("Hi, Rahul!") I had to refer back to the notes on my blog many, many times.<br /><h3><br />Review: How Do I Inspect Mobile Apps on Appium Desktop, Again?&nbsp;</h3>If you have never set up Appium Desktop before, I suggest you go through my notes on <a href="http://www.tjmaher.com/2017/04/learning-appium-what-is-appium-server.html" target="_blank">Learning Appium</a>. It's tricky! My notes should spell it all out for you. Here are seven steps to get yourself up and running, referring back to the notes.<br /><br /><b><u>Step 1:</u></b>&nbsp;&nbsp;Install Java, <a href="http://www.tjmaher.com/2017/04/learning-appium-what-is-appium-server.html" target="_blank">if need be, and install and launch Appium Desktop</a><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: left; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-lgIjJB-Ursc/WOWRrM4qVXI/AAAAAAAALuM/ZvUm4yCjNIoucjtNtIaup6GGhCSG1l4jACPcB/s1600/screen-start-simple.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="624" src="https://1.bp.blogspot.com/-lgIjJB-Ursc/WOWRrM4qVXI/AAAAAAAALuM/ZvUm4yCjNIoucjtNtIaup6GGhCSG1l4jACPcB/s640/screen-start-simple.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><i>Behold, the Appium Desktop start screen lives again!</i></td></tr></tbody></table><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />... Then, start a new Server by pressing the "Start Server v.16.4-beta" button. Let's leave the host at 0.0.0.0 (your local host, Home) and the port at 4723 for now.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: left; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-EJ48P-0SgEc/WOWSn_RnxnI/AAAAAAAALuU/s5G_hP9tA6U__B4QhRYiS016h6OMlHyrgCPcB/s1600/screen-logs.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="595" src="https://1.bp.blogspot.com/-EJ48P-0SgEc/WOWSn_RnxnI/AAAAAAAALuU/s5G_hP9tA6U__B4QhRYiS016h6OMlHyrgCPcB/s640/screen-logs.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><i>Appium is running in the background, listening for commands to be sent to 0.0.0.0:4723.</i></td></tr></tbody></table><br /><br /><br /><b><u>Step 2:</u> &nbsp;</b><a href="http://www.tjmaher.com/2017/04/learning-appium-desktop-how-to-connect.html" target="_blank">Install Android Studio, which comes with the both Android Software Development Kit (SDK), and Android Command Line Tools</a> such as the Android Debug Bridge (ADB) to connect your physical Android device via USB. Make sure to set up ANDROID_HOME!<br /><br /><b><u>Step 3:</u></b> Connect your physical Android device <a href="http://www.tjmaher.com/2017/04/learning-appium-desktop-setting-up_18.html" target="_blank">via WiFi, if you wish</a>. This project will use Android emulators, but physical devices will work, too.<br /><br /><u><b>Step 4:</b></u> Set up an Android emulator <a href="http://www.tjmaher.com/2017/04/learning-appium-desktop-setting-up.html" target="_blank">using Android Studioâ€™s AVD (Android Virtual Device)</a> Manager. Run the emulator.<br /><b><br /></b><b><u>Step 5</u></b>: <a href="http://www.tjmaher.com/2017/04/learning-appium-desktop-find-desired.html" target="_blank">Find the appPackage and appActivity for the App</a>: Install the .apk you will be testing against by downloading the .apk, then dragging and dropping the .apk onto an Android emulator to install it. Me, I will be using <b>ApiDemos-debug.apk</b> for this chapter.<br /><br /><ul><li>Go to <a href="https://github.com/appium/java-client/tree/master/src/test/java/io/appium/java_client" target="_blank">Appium's Java-Client</a> page.</li><li>Right-click on <a href="https://github.com/appium/java-client/blob/master/src/test/java/io/appium/java_client/ApiDemos-debug.apk">ApiDemos-debug.apk</a>&nbsp;and select "Save Link As". Save it onto your Desktop.</li><li>Drag-and-drop it from your Desktop, your Download folder, or wherever you saved it, onto your running emulator.&nbsp;</li><li>Double-click the "ApiDemos" folder to launch the program on the emulator.&nbsp;</li></ul><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://2.bp.blogspot.com/-beQ9ncjQRPQ/WRTVnf5_DTI/AAAAAAAALxM/CU2EZltdNf85sT8CJvW33yyzkLRIylcLgCLcB/s1600/1.%2BAPI%2BDemo%2BApp.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="640" src="https://2.bp.blogspot.com/-beQ9ncjQRPQ/WRTVnf5_DTI/AAAAAAAALxM/CU2EZltdNf85sT8CJvW33yyzkLRIylcLgCLcB/s640/1.%2BAPI%2BDemo%2BApp.png" width="388" /></a></td></tr><tr><td class="tr-caption"><i>The ApiDemos-debug.apk app we will be automating.</i></td></tr></tbody></table><br /><br />While <a href="http://www.tjmaher.com/2017/04/learning-appium-desktop-find-desired.html" target="_blank">the app is running</a>:<br /><br /><ul><li>Open your Mac Terminal.&nbsp;</li><li>Copy-and-paste the following code into your Mac Terminal.</li></ul><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> adb shell "dumpsys window windows | grep -E 'mCurrentFocus | mFocusedApp'"  <br /></code></pre><br />... This code uses the Android Debug Bridge to go into the app running, and grab either the currentFocus or FocusedApp, and dump the output.<br /><br />This showed me:<br /><br /><pre style="background: #f0f0f0; border: 1px dashed #cccccc; color: black; font-family: &quot;arial&quot;; font-size: 12px; height: auto; line-height: 20px; overflow: auto; padding: 0px; text-align: left; width: 99%;"><code style="color: black; word-wrap: normal;"> mFocusedApp=AppWindowToken{2693b97 token=Token{ec7ff31 <br />ActivityRecord{10a4fd8 u0 io.appium.android.apis/.ApiDemos t254}}}  <br /></code></pre><br /><br /><br /><b><u><br /></u></b><b><u>Step 6:</u></b> &nbsp;Enter <a href="http://www.tjmaher.com/2017/04/learning-appium-desktop-find-desired.html" target="_blank">the Desired Capabilities, save the Capability</a> Set<br /><br /><ul><li>Going back to Appium Desktop, select "Start New Session".&nbsp;</li><li>Fill out the Desired Capabilities</li></ul><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-OXfHlPMFfEU/WRTV1rPGUEI/AAAAAAAALxQ/ru3DD7Ziwb4bkGAFX1QuqjGhWXgXRQZQACLcB/s1600/2.%2BAppium%2BDesktop%2BSetup.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="394" src="https://2.bp.blogspot.com/-OXfHlPMFfEU/WRTV1rPGUEI/AAAAAAAALxQ/ru3DD7Ziwb4bkGAFX1QuqjGhWXgXRQZQACLcB/s640/2.%2BAppium%2BDesktop%2BSetup.png" width="640" /></a></div><br /><br /><br /><br />platformName: Android<br /><br />deviceName: emulator-5554<br /><br />appPackage: io.appium.android.apis<br /><br />appActivity: .ApiDemos<br /><br /><br /><ul><li>Select the "Save As..." button, and save it as something such as "ApiDemos".</li></ul>... When we finally run automated tests, setting up Desired Capabilities, we will find that instead of appPackage, and appActivity, we can just use the appName. If we did that with Appium Desktop, like I did in my first attempt, I would be hit by <a href="http://www.tjmaher.com/2017/04/learning-appium-desktop-find-desired.html" target="_blank">a known bug in one of the Android Command Line Tools</a> and it would not work.<br /><br /><br /><b><u>Step 7:</u> </b>Press the <a href="http://www.tjmaher.com/2017/04/learning-appium-inspecting-app-with.html" target="_blank">Start Session button</a>. Three horizontal panels will appear.<br /><br /><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: left; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="https://2.bp.blogspot.com/-qWZlJE_MxTk/WRTWAcOq4jI/AAAAAAAALxU/QN5EjqvsKSMozmd7lZNxE_Qbl_63UblhACLcB/s1600/3.%2BApi%2BDemos%2BPage.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="336" src="https://2.bp.blogspot.com/-qWZlJE_MxTk/WRTWAcOq4jI/AAAAAAAALxU/QN5EjqvsKSMozmd7lZNxE_Qbl_63UblhACLcB/s640/3.%2BApi%2BDemos%2BPage.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><i>Now that Appium Desktop is up and running, Inspect away!</i></td></tr></tbody></table><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />Left panel: A reflection of the app or virtual device<br />Middle panel: The app source, much like the DOM of a web page.<br />Right Panel: The properties of the selected element.<br /><br />For example, if we select the API Demos area on the first screen that pops up, you can see that:<br /><br /><ul><li>ID: android:id/action_bar</li></ul><br />Now that we have Appium Desktop and an Android emulator up and running, tomorrow we will be inspecting the mobile elements of this app and designing a basic test.<br /><br />Stop by tomorrow, and we <a href="http://www.tjmaher.com/2017/05/basic-appium-framework-part-one.html" target="_blank">can examine the app to see what we can do for a basic test</a>...<br /><br /><br /><br /><div><div class="toc-section" id="toc-section"><b>Build a Basic Appium Framework</b><br /><ul><li><b>Part One:</b>&nbsp;<a href="http://www.tjmaher.com/2017/05/basic-appium-framework-part-one.html">Review How to Inspect Mobile Apps with Appium Desktop</a></li><li><b>Part Two:</b>&nbsp;&nbsp;<a href="http://www.tjmaher.com/2017/05/basic-appium-framework-part-two.html" target="_blank">Design a Basic Test, Examining Mobile Elements with Appium Desktop</a></li><li><b>Part Three:</b>&nbsp;&nbsp;<a href="http://www.tjmaher.com/2017/05/build-basic-appium-framework-install.html" target="_blank">Install and Launch an App Using Desired Capabilities</a></li><li><b>Part Four:</b>&nbsp;&nbsp;<a href="http://www.tjmaher.com/2017/05/basic-appium-framework-part-four.html">Set up the Page Objects, Page Factories and Tests</a></li><li><b>Part Five:</b>&nbsp;&nbsp;<a href="http://www.tjmaher.com/2017/05/basic-appium-framework-part-five.html">Download the tests and run them on your own MacBook!</a></li><li><b>Part Six: &nbsp;</b><a href="http://www.tjmaher.com/2017/05/launch-android-emulator.html">How to create and launch an Android emulator from Android Studio</a></li><li><b>Part Seven</b>:&nbsp;<a href="http://www.tjmaher.com/2017/06/behind-the-scenes-install-launch-appium.html" target="_blank">What happens behind the scenes as Appium installs and launches an Android app? Examining and footnoting a log file</a>.</li><li><b>GitHub:&nbsp;</b><a href="https://github.com/tjmaher/basic_appium_framework" target="_blank">Review the source code for the project.</a>&nbsp;</li></ul></div><br />Happy Testing!</div><br /><br /><br />-T.J. Maher<br /><a href="https://twitter.com/tjmaher1" style="color: #1155cc;" target="_blank">Twitter</a>&nbsp;|&nbsp;<a href="https://www.linkedin.com/in/tjmaher1" style="color: #1155cc;" target="_blank">LinkedIn</a>&nbsp;|&nbsp;<a href="https://github.com/tjmaher" style="color: #1155cc;" target="_blank">GitHub</a><br /><br /><i>// Sr. QA Engineer, Software Engineer in Test, Software Tester since 1996.<br />// Contributing Writer for&nbsp;<a href="http://techbeacon.com/contributors/thomas-maher" style="color: #1155cc;" target="_blank">TechBeacon.</a><br />// "Looking to move away from manual QA?&nbsp;Follow&nbsp;<a href="http://www.tjmaher.com/" style="color: #1155cc;" target="_blank">Adventures in Automation</a>&nbsp;on <a href="https://www.facebook.com/AdventuresInAutomation/" target="_blank">Facebook</a>!"</i>