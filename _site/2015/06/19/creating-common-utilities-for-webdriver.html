<i>This post is second in a series of six. Need to go <a href="/2015/06/simple-manipulation-of-login-page.html">back to the beginning</a>?</i><br><br><i>Rewriting the automated test code we use at work to test against</i><i>&nbsp;Dave Haeffner's mock site, The-Internet:&nbsp;<a href="https://the-internet.herokuapp.com/login">Login Page</a>.</i><br /><i><br /></i><br />Please note: I have been an automated tester only since March 2015. This is only my best guess on how to translate what we use at work. I am writing this blog to deepen my own understanding of automated testing. If there are any glaring errors about Java, OO, WebDriver, or anything else please let me know in the&nbsp;<b>Comments</b>&nbsp;section!<br /><br /><a name='more'></a><br /></div><h2><b>Part Two</b>: Drafting the Common Utilities Library</h2><br />The Selenium WebDriver API provides the basic methods to manipulate a brower to perform actions, such as navigating to a web page, but it doesn't have all the functionality we would need. What if we wanted to add in exception handling, such as if the web page was not found? What if we wanted to throw a customized error to a log file when the page was not found? What if, even upon a success, we wanted to write a message to the log? <br /><br />A Common Utilities library, such as one they are using at the moment at my workplace, can be developed to handle these cases. Each Selenium API method is wrapped in try / catch / throw blocks for exception handling, built-in with logging functionality. When things go wrong, clear and concise error messages will save a lot of time debugging if the issue was with the server, with the code of the site, or the tests themselves.  <br /><br /><i>If you want to skip ahead to see an example of a&nbsp;CommonUtils library, you can view one &nbsp;at:&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/CommonUtils.java" target="_blank">test/java/utils/CommonUtils.java</a>, which closely resembles the one drafted by the automation test team at work.</i><br /><br />For this project, we will test against <b>The-Internet</b>.<br /><h3>About The-Internet</h3><br />Dave Haeffner wrote a test site called <b>The-Internet</b> ( <a href="https://the-internet.herokuapp.com/">https://the-internet.herokuapp.com/</a> ) that entry level automated testers could use to test against. For this blog post, I will be examining his <a href="https://the-internet.herokuapp.com/login" target="_blank">Login Page</a> example. <i>If you want more information about Dave, you can <a href="http://adventuresinautomation.blogspot.com/2015/06/spotlight-on-dave-haeffner.html" target="_blank">view my blog entry about him</a>.</i><br /><h3></h3><h3>Automated Test Suite code to test The-Internet</h3><br />To deepen my understanding of automation test suites, over the next month or so I will be examining and rewriting code to test against <b>The-Internet</b>. Feel free to follow along, make suggestions, and ask questions about the code I am writing in the Comments section of this blog! I have only been writing code on-the-job since March, so there are bound to be errors of interpretation.<br /><br />All code I develop will be uploaded to my GitHub account at <a href="https://github.com/tjmaher">https://github.com/tjmaher</a>.<br /><br /><div><ul><li><b><a href="https://github.com/tjmaher/WebDriver_TheInternet_Basics" target="_blank">WebDriver_TheInternet_Basics</a></b>: Quick-and-dirty code to test&nbsp;the basics of&nbsp;<b>The-Internet</b>&nbsp;login page with&nbsp;SimpleManipulationWebElements.java&nbsp;</li></ul><ul><li><a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced" target="_blank"><b>WebDriver_TheInternet_Advanced</b>:</a>&nbsp;The beginnings of the test suite for <b>The-Internet</b>.</li></ul></div><h3>Creating Methods to Navigate to a Web Page</h3>Navigating to <b>The-Internet</b>'s Login page is pretty simple with WebDriver. All it takes is one driver.get statement in order to navigate to the login page:<br /><pre class="brush: javafx">  <br />    driver.get("http://the-internet.herokuapp.com/login");<br /></pre><br />But what if you wanted to add functionality to write to the log console every time you use WebDriver to navigate to a web page? This means you would have to enter two lines of code per driver.get statement.<br /><pre class="brush: javafx">   <br />    System.out.println("Navigating to: http://the-internet.herokuapp.com/login");<br />    driver.get("http://the-internet.herokuapp.com/login");<br /></pre><br />Let's say you also wanted to add even more:<br /><ul><li>Logging functionality when an action is performed</li><li>Catch any errors if the action failed</li><li>Throw an error to the logs detailing if an error ever happened</li><li>Document the Thread ID, useful when dealing with multithreaded systems that are running many Selenium WebDriver tests in parallel.&nbsp;</li><li>Include any wait statements, if a page is known to be slow loading.&nbsp;</li></ul><br />To satisfy all these new requirements, at work they came up with the following method for their CommonUtils library,&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">navigateToURL</span><span style="font-family: inherit;">:</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp;</span><br /><br /><pre class="brush: javafx">  <br />     public void navigateToURL(String URL) {<br />        System.out.println("Navigating to: " + URL);<br />        System.out.println("Thread id = " + Thread.currentThread().getId());<br /><br />        try {<br />            _driver.navigate().to(URL);<br />        } catch (Exception e) {<br />            System.out.println("URL did not load: " + URL);<br />            throw new TestException("URL did not load");<br />        }<br />     }<br /></pre><br /><span style="font-family: inherit;">To use this method, we can use this method in a test, passing in the URL as a String:</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">navigateToURL("http://the-internet.herokuapp.com/login");</span><br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">Now imagine if you had a whole library where all the Selenium WebDriver functions are wrapped in try / catch / throw blocks, logging functionality is added, threads have identification numbers listed, and any optional wait statements are included.</span><br /><h3><span style="font-family: inherit;">Methods in the CommonUtils Library</span></h3><span style="font-family: inherit;"><br /></span> <script src="https://gist.github.com/tjmaher/4d5c3a523cca6d79b8e7.js"></script><link href="https://gist-assets.github.com/assets/embed-b8c853f42bc1486a246eca98739ff795.css" rel="stylesheet"></link><br /><span style="font-family: inherit;">These are the methods in the CommonUtility we can use:</span><br /><br /><ul><li><span style="font-family: inherit;"><span class="pl-en" style="background-color: white; box-sizing: border-box; line-height: 16.7999992370605px; white-space: pre;">navigateToURL</span><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;">(</span><span class="pl-smi" style="background-color: white; box-sizing: border-box; line-height: 16.7999992370605px; white-space: pre;">String</span><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;"> </span><span class="pl-smi" style="background-color: white; box-sizing: border-box; line-height: 16.7999992370605px; white-space: pre;">URL</span><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;">)</span></span></li></ul><ul><li><span style="background-color: white; font-family: inherit; line-height: 16.7999992370605px; white-space: pre;"><span class="pl-en" style="box-sizing: border-box; line-height: 16.7999992370605px;">getPageTitle</span><span style="line-height: 16.7999992370605px;">()</span></span></li></ul><ul><li><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;"><span style="font-family: inherit; line-height: 16.7999992370605px;"><span class="pl-en" style="box-sizing: border-box; line-height: 16.7999992370605px;">getElement</span><span style="line-height: 16.7999992370605px;">(</span><span class="pl-smi" style="box-sizing: border-box; line-height: 16.7999992370605px;">By</span><span style="line-height: 16.7999992370605px;"> </span><span class="pl-v" style="box-sizing: border-box; line-height: 16.7999992370605px;">selector</span><span style="line-height: 16.7999992370605px;">)</span></span></span></li></ul><ul><li><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;"><span style="line-height: 16.7999992370605px;"><span style="font-family: inherit; line-height: 16.7999992370605px;"><span class="pl-en" style="box-sizing: border-box; line-height: 16.7999992370605px;">sendKeys</span><span style="line-height: 16.7999992370605px;">(</span><span class="pl-smi" style="box-sizing: border-box; line-height: 16.7999992370605px;">By</span><span style="line-height: 16.7999992370605px;"> </span><span class="pl-v" style="box-sizing: border-box; line-height: 16.7999992370605px;">selector</span><span style="line-height: 16.7999992370605px;">, </span><span class="pl-smi" style="box-sizing: border-box; line-height: 16.7999992370605px;">String</span><span style="line-height: 16.7999992370605px;"> </span><span class="pl-v" style="box-sizing: border-box; line-height: 16.7999992370605px;">value</span><span style="line-height: 16.7999992370605px;">)</span></span></span></span></li></ul><ul><li><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="font-family: inherit; line-height: 16.7999992370605px;"><span class="pl-en" style="box-sizing: border-box; line-height: 16.7999992370605px;">clearField</span><span style="line-height: 16.7999992370605px;">(</span><span class="pl-smi" style="box-sizing: border-box; line-height: 16.7999992370605px;">WebElement</span><span style="line-height: 16.7999992370605px;"> </span><span class="pl-v" style="box-sizing: border-box; line-height: 16.7999992370605px;">element</span><span style="line-height: 16.7999992370605px;">)</span></span></span></span></span></li></ul><ul><li><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="font-family: inherit; line-height: 16.7999992370605px;"><span class="pl-en" style="box-sizing: border-box; line-height: 16.7999992370605px;">click</span><span style="line-height: 16.7999992370605px;">(</span><span class="pl-smi" style="box-sizing: border-box; line-height: 16.7999992370605px;">By</span><span style="line-height: 16.7999992370605px;"> </span><span class="pl-v" style="box-sizing: border-box; line-height: 16.7999992370605px;">selector</span><span style="line-height: 16.7999992370605px;">)</span></span></span></span></span></span></li></ul><ul><li><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="font-family: inherit; line-height: 16.7999992370605px;"><span class="pl-en" style="box-sizing: border-box; line-height: 16.7999992370605px;">waitForElementToBeClickable</span><span style="line-height: 16.7999992370605px;">(</span><span class="pl-smi" style="box-sizing: border-box; line-height: 16.7999992370605px;">By</span><span style="line-height: 16.7999992370605px;"> </span><span class="pl-v" style="box-sizing: border-box; line-height: 16.7999992370605px;">selector</span><span style="line-height: 16.7999992370605px;"> )</span></span></span></span></span></span></span></li></ul><ul><li><span style="background-color: white; line-height: 16.7999992370605px; white-space: pre;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="line-height: 16.7999992370605px;"><span style="font-family: inherit; line-height: 16.7999992370605px;"><span class="pl-en" style="box-sizing: border-box; line-height: 16.7999992370605px;">waitForElementToBeVisible</span><span style="line-height: 16.7999992370605px;">(</span><span class="pl-smi" style="box-sizing: border-box; line-height: 16.7999992370605px;">By</span><span style="line-height: 16.7999992370605px;"> </span><span class="pl-v" style="box-sizing: border-box; line-height: 16.7999992370605px;">selector</span><span style="line-height: 16.7999992370605px;">)</span></span></span></span></span></span></span></span></li></ul>You can view all the methods in:&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/CommonUtils.java">https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/CommonUtils.java</a><br /><h3>How to use the Methods:</h3><br />Selectors can be found By Id or By CSS Selector. If we wanted to grab the Username textbox, the Password textbox, or the Login button, we could:<br /><br /><br /><ul><li>Username: getElement(By.cssSelector("[name='username']")</li><li>Password: getElement(By.cssSelector("[name='password']")</li><li>Login Button: getElement(By.cssSelector("<span style="background-color: white; color: green; font-family: &quot;courier new&quot;; font-size: 9pt; font-weight: bold;">"[type='submit'][class='radius']"</span>")</li></ul><br /><br />... And wherever these CommonUtils methods are used, we need to make sure to:<br /><br /><pre style="background-color: white; font-family: 'Courier New';"><span style="background-color: #e4e4ff; color: navy; font-weight: bold;">import</span><span style="color: navy; font-weight: bold;"> </span>utils.CommonUtils;</pre><b>NEXT: </b><a href="/2015/07/how-java-stores-constants-static-final.html">Storing Constanst: public final vs enums</a><br><br /><div class="toc-section" id="toc-section"><b>Testing The-Internet:</b><ul><li><b>Part One:</b>&nbsp;<a href="/2015/06/simple-manipulation-of-login-page.html">Sketching out the simple manipulation of a login page</a></li><li><b>Part Two:</b>&nbsp;<a href="/2015/06/creating-common-utilities-for-webdriver.html">Drafting Common Utilities</a></li><li><b>Part Three:</b>&nbsp;<a href="/2015/07/how-java-stores-constants-static-final.html">Storing Constanst: public final vs enums</a></li><li><b>Part Four:</b>&nbsp;<a href="/2015/07/storing-locators-for-web-elements.html">Storing locators in enums</a></li><li><b>Part Five:</b>&nbsp;<a href="/2015/07/the-internet-page-object-model-examples.html">Page Object Model</a></li><li><b>Part Six:</b>&nbsp;<a href="/2015/07/the-internet-writing-automated-test.html">Writing the Automated Test</a></li><li><b>Source Code:</b>&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced">GitHub, T.J. Maher</a></li></ul></div><br /><br>-T.J. Maher<br /><i>&nbsp;Sr. QA Engineer, Fitbit</i><br /><i>&nbsp;Boston, MA</i><br /><i><br /></i><i>// Automated tester for [ 3 ] month and counting!</i><br /><i><br /></i><i>Please note: 'Adventures in Automation' is a personal blog about automated testing. It is not an official blog of&nbsp;<a href="http://www.fitbit.com/" target="_blank">Fitbit.com</a>.&nbsp;</i><br /><br /><script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');    ga('create', 'UA-73377959-1', 'auto');   ga('send', 'pageview');  </script>