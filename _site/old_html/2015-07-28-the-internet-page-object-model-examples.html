<div style="font-size: medium; font-weight: normal;"><span style="font-family: inherit;"><i>Writing automated test code to test against&nbsp;Dave Haeffner's mock site, The-Internet:&nbsp;<a href="https://the-internet.herokuapp.com/login">Login Page</a>.</i></span></div><ul style="font-size: medium; font-weight: normal;"><i>This post is fifth in a series of six. Need to go <a href="/2015/06/simple-manipulation-of-login-page.html">back to the beginning</a>?</i><br><br><h2>Part Five: What is the Page Object Model? &nbsp;</h2><div><h3>According to the original Selenium Wiki</h3><div>The <b>Page Object Model</b> appeared as early as March of 2013, on the wiki for Selenium WebDriver. <a href="https://code.google.com/p/selenium/wiki/PageObjects">https://code.google.com/p/selenium/wiki/PageObjects</a></div><div><br /><a name='more'></a><br /></div><div>Imagine modelling a Java class on a Login page.&nbsp;</div></div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-kdk5F9nQysE/VZNjkZlB68I/AAAAAAAAKvk/4X2jFoEQtZM/s1600/login.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="279" src="https://4.bp.blogspot.com/-kdk5F9nQysE/VZNjkZlB68I/AAAAAAAAKvk/4X2jFoEQtZM/s320/login.png" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Welcome to <b>The-Internet</b>!</td></tr></tbody></table><div><div><br /></div><div><div>There are two major actions you can do on a Login page:&nbsp;</div><div><ul><li>Create a successful login</li><li>Create an unsuccessful login.&nbsp;</li></ul></div></div><div>One could create one method for each action one could perform in a page.&nbsp;</div><div><br /></div><div>With their early example, they have methods to type a username and password, click a submit button, methods that handle a login success and a login failure, and a method called "<i>loginAs</i>" which accepts the strings for a Username and Password and wraps up all the methods that <i>typeUsername(username)</i>, <i>typePassword(password)</i>, and returns the <i>submitLogin()</i>. &nbsp;</div><div><br /></div><div><div>They advise, in general, not to make assertions on the page. Those are for the tests, themselves.&nbsp;</div></div><div><br /></div><div>For more information you can go to <a href="https://code.google.com/p/selenium/wiki/PageObjects" target="_blank">Selenium Wiki: Page Objects</a> on Google.Code.Com&nbsp;</div><div><br /></div><div>Originally, the concept encapsulating objects of a page dealt with the window of a user interface, not a web browser. See <a href="http://martinfowler.com/eaaDev/WindowDriver.html" target="_blank">Window Driver</a> by Martin Fowler,<i> 8/26/2004, </i>also from ThoughtWorks, the company that brought you Selenium 1 and Selenium 2: WebDriver.&nbsp;<i>&nbsp;</i></div><div><br /></div><div><b>Note</b>: The Selenium Wiki information is out of date. For archival purposes, you can <a href="https://code.google.com/p/selenium/w/list" target="_blank">browse the wiki</a> which has been in existence since Selenium WebDriver first came out. The new home for the documentation is at <a href="https://seleniumhq.github.io/docs/">https://seleniumhq.github.io/docs/</a></div><div><br /></div><h3>According to the new Selenium Wiki</h3><div><br /></div><div>With the new wiki, the Page Object model is now referred to as a "Page Object Design Pattern". Instead of informal language of the earlier wiki, it speaks in the language of a software professional.&nbsp;</div><div><br /></div><div><b>Why use Page Objects?</b></div><div><br /></div><blockquote class="tr_bq"><ul><li>"<b>Readable:</b> Business stake holders can understand it.</li><li>"<b>Writable</b>: Easy to write, avoids unnecessary duplication.</li><li>"<b>Extensible</b>: Functionality can (reasonably) be added without breaking contracts and existing functionality.</li><li>"<b>Maintainable</b>: By leaving the implementation details out of test cases, you are well-insulated against changes to the [automated test]</li></ul>"[...] This method completely abstracts the concepts of input fields, buttons, clicking, and even pages from your test code. Using this approach, all your tester has to do is call this method. This gives you a maintenance advantage: if the login fields ever changed, you would only ever have to change this method--not your tests".</blockquote></div><div><h3>Page Object Example</h3></div><div>We could write a Page Object for the Login page of The-Internet as such:</div><div><br /></div><div><script src="https://gist.github.com/tjmaher/a230fbab6cf38733857a.js"></script></div><div><br /></div>With this example, we have three main methods of the LoginPage class:<br /><br /><ul><li><b>enterUserName</b>: Pass a username as a String, and this method will send the username into the textbox.&nbsp;</li><li><b>enterPassword</b>: Likewise, pass a password as a String, and this method will send the password into the textbox.&nbsp;</li><li><b>logIntoPage</b>: Send the username and password, such as the test user data stored in an enum fashion for this example, and it will call the above methods to enter the username and password, and click the Login button.&nbsp;</li></ul><div>But what are those odd lines of code that is not exactly Selenium?</div><div><div><ul><li>waitForElementToBeVisible(LoginPageEnum.PASSWORD.selector());</li><li>sendKeys(LoginPageEnum.USERNAME.selector(), user);</li><li>click(LoginPageEnum.LOGIN_BUTTON.selector());</li></ul></div></div><div>Just as we do at my workplace, I encapsulated some of the code:<br /><br /><b><u>LoginPageEnum.java</u></b></div><div><br /></div><script src="https://gist.github.com/tjmaher/75b4348c2bde9c1ae630.js"></script> <br /><div><br /></div><div><ul><li><b>Locators on the <i>LoginPage</i> are being stored as Enums</b>:&nbsp;Since locators could be in either By.id or By.cssSelector, I created an interface, ISelector and implemented it in the enum class. Adding the name of the enum in the method and "<i>.selector()</i>" after it is an easy way to make the code more readable. To see the full code, you can scroll to the bottom of the&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/pages/LoginPage.java" target="_blank">LoginPage</a>&nbsp;I have listed on GitHub.</li></ul><div><br /></div><div><b><u>CommonUtils.java</u></b></div></div><div><br /><br /><script src="https://gist.github.com/tjmaher/9894bd667b21756bc572.js"></script> <br /><ul><li><b>Commonly used WebDriver functionality is stored in a class, CommonUtils</b>: Need to handle syncing? Logging functionality? The methods in the CommonUtils class act as a wrapper. To see the full code, you can go to the&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/CommonUtils.java" target="_blank">CommonUtils</a>&nbsp;page I have listed on GitHub.</li></ul><br /><br /><br /><br /></div><div>The working code for the PageObjects <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/pages/LoginPage.java" target="_blank">LoginPage</a> and <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/pages/SecureArea.java" target="_blank">SecureArea</a>&nbsp;along with <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/utils/CommonUtils.java" target="_blank">CommonUtils</a>, and the enum class&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/enums/UserEnum.java">UserEnum.java</a>&nbsp;can be found in my GitHub repository, <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced">WebDriver_TheInternet_Advanced</a>.<br /><br /><br /></div><div>Now that we have done all this work, in the next blog post, we can write out our test...<br><br><b>NEXT: </b><a href="/2015/07/the-internet-writing-automated-test.html">Writing the Automated Test</a><br><br /><div class="toc-section" id="toc-section"><b>Testing The-Internet:</b><ul><li><b>Part One:</b>&nbsp;<a href="/2015/06/simple-manipulation-of-login-page.html">Sketching out the simple manipulation of a login page</a></li><li><b>Part Two:</b>&nbsp;<a href="/2015/06/creating-common-utilities-for-webdriver.html">Drafting Common Utilities</a></li><li><b>Part Three:</b>&nbsp;<a href="/2015/07/how-java-stores-constants-static-final.html">Storing Constanst: public final vs enums</a></li><li><b>Part Four:</b>&nbsp;<a href="/2015/07/storing-locators-for-web-elements.html">Storing locators in enums</a></li><li><b>Part Five:</b>&nbsp;<a href="/2015/07/the-internet-page-object-model-examples.html">Page Object Model</a></li><li><b>Part Six:</b>&nbsp;<a href="/2015/07/the-internet-writing-automated-test.html">Writing the Automated Test</a></li><li><b>Source Code:</b>&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced">GitHub, T.J. Maher</a></li></ul></div><br /><br><br />-T.J. Maher<br /><i>&nbsp;Sr. QA Engineer, Fitbit</i><br /><i>&nbsp;Boston, MA</i><br /><i><br /></i><i>// Automated tester for [ 4 ] month and counting!</i><br /><i><br /></i><i>Please note: 'Adventures in Automation' is a personal blog about automated testing. It is not an official blog of&nbsp;<a href="http://www.fitbit.com/" target="_blank">Fitbit.com</a>.&nbsp;</i></div>