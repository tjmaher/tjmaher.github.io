<i>Writing automated test code to test against&nbsp;Dave Haeffner's mock site, The-Internet:&nbsp;<a href="https://the-internet.herokuapp.com/login">Login Page</a>.</i><br><br><i>This post is fourth in a series of six. Need to go <a href="/2015/06/simple-manipulation-of-login-page.html">back to the beginning</a>?</i><br><br> <h2>Part Four: Storing locators in Enums</h2><h3>How to locate a web element?&nbsp;</h3><br>There are two main they locate web elements at work:<br /><br /><ul><li>By ID</li><li>By CSS Selector</li></ul>Earlier, I wrote about <a href="/2015/04/how-selenium-webdriver-uses-css.html" target="_blank">CSS Selectors </a>when finding web elements. <br><br>With the Firefox browser and the Firebug plugin, to find the selectors of a web element, an automated tester can go to the <a href="https://the-internet.herokuapp.com/login" target="_blank">Login Page</a> of Dave Haeffner's test site, The-Internet, and right-click on each element listed: <br><a name='more'></a><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-kdk5F9nQysE/VZNjkZlB68I/AAAAAAAAKvg/XclQTHm_zDI/s1600/login.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="348" src="https://3.bp.blogspot.com/-kdk5F9nQysE/VZNjkZlB68I/AAAAAAAAKvg/XclQTHm_zDI/s400/login.png" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Welcome to <b>The-Internet</b>.&nbsp;</td></tr></tbody></table><br><br>There are three main web elements on the page: &nbsp;the <b>Username</b> textbox, the <b>Password</b> textbox, and the<b> Login</b> button.<br /><br />If you have <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a> with the <a href="https://getfirebug.com/downloads">Firebug plugin</a>&nbsp;and <a href="https://addons.mozilla.org/En-us/firefox/addon/firepath/">Firepath</a>&nbsp;installed, you can go to each element, right-click on the element, and select "Inspect in Firepath":<br /><br /><b>Username</b> textbox:<br /><br /><ul><li><i>&lt;input id="username" type="text" name="username"/&gt;</i></li></ul><br /><br /><b>Password</b> textbox:<br /><br /><ul><li><i>&lt;input id="password" type="password" name="password"/&gt;</i></li></ul><br /><br /><b>Login</b> button:<br /><br /><ul><li><i>&lt;button class="radius" type="submit"&gt;</i></li></ul><br /><br />We see that an automated tester can choose to select the web elements by either Id or by CSS Selector. For this example, just to illustrate how they are used, I will use CSS selectors. They are:<br><ul><li>The Username textbox: [name='username']</li><li>The Password textbox: [name='password']</li><li>The Login button: [class='radius'][type='submit']</li></ul>But the question is, once you find the selectors -- whether by CSS selectors or by id -- where would they be stored? It would be bad form to store them in code along with the automated test:<br><br><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">WebElement txtUsername = driver.findElement(By.id("username"));</span><div><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">System.out.println("Entering username...");</span></div><div><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">txtUsername.sendKeys(username);</span></div></div><div><br /></div><div>... What if the id or name changes? How can you easily find the name of the elements if they need to be updated?&nbsp;</div><div><br /></div><div>One solution is to store these values as constants as&nbsp;<b>Enums.&nbsp;</b>which I covered briefly&nbsp;<a href="http://adventuresinautomation.blogspot.com/2015/07/how-java-stores-constants-static-final.html">in my last blog entry</a>.<br /><span style="line-height: 19.2000007629395px;"><br /></span>We could have stored them in constants in Java by setting up some String variables to be<span style="line-height: 19.2000007629395px;">&nbsp;</span><span style="line-height: 19.2000007629395px;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><b>public static final</b> </span><span style="font-family: inherit;">like so</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-weight: bold;">:&nbsp;</span></span></div></div><div><br /></div><div><div>public class LoginPageConstants {</div><div><br /></div><div><span class="Apple-tab-span" style="white-space: pre;"> </span>public static final String USERNAME = "[name='username']";</div><div><span class="Apple-tab-span" style="white-space: pre;"> </span>public static final String PASSWORD = "[name='password']");</div><div><span class="Apple-tab-span" style="white-space: pre;"> </span>public static final String LOGIN_BUTTON = "[type='submit'][class='radius']";</div><div><br /></div><div>}</div></div><div><br /></div><div>These variable strings USERNAME, PASSWORD, and LOGIN are global constants. They can only have the preceding values that we have set, cannot be accidentally overwritten, wherever they are used.&nbsp;</div><div><br /></div><div><h4>What are some of the problems of using <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">public static final</span>?&nbsp;</h4></div><div><br /></div><div><i><b>From the&nbsp;<a href="http://docs.oracle.com/javase/1.5.0/docs/guide/language/enums.html">Java 1.5 Language Guide</a>:</b></i></div><blockquote class="tr_bq"><span style="background-color: white;"><i>"This pattern has many problems, such as:</i></span><br /><blockquote><ul><li><i><b>"Not typesafe</b>&nbsp;- Since a season is just an&nbsp;<code>int</code>&nbsp;you can pass in any other&nbsp;<tt>int</tt>&nbsp;value where a season is required, or add two seasons together (which makes no sense).</i></li></ul><ul><li><i><b>"No namespace</b>&nbsp;- You must prefix constants of an int enum with a string (in this case&nbsp;<code>SEASON_</code>) to avoid collisions with other int enum types.</i></li></ul><ul><li><i><b>"Brittleness</b>&nbsp;- Because [...] enums are compile-time constants, they are compiled into clients that use them. If a new constant is added between two existing constants or the order is changed, clients must be recompiled. If they are not, they will still run, but their behavior will be undefined.</i></li></ul><ul><li><i><b>"Printed values are uninformative</b>&nbsp;- Because they are just ints, if you print one out all you get is a number, which tells you nothing about what it represents, or even what type it is.</i></li></ul></blockquote></blockquote><h4></h4><h3>How do we store the values of the locators?</h3><br />Storing the values of the locators, we can use enums that may look like:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">public enum LoginPageEnum implements ISelector{</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span class="Apple-tab-span" style="white-space: pre;"> </span>HEADER("h2"),</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp;<span class="Apple-tab-span" style="white-space: pre;"> </span>USERNAME("[name='username']"),</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span class="Apple-tab-span" style="white-space: pre;"> </span>PASSWORD("[name='password']"),</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span class="Apple-tab-span" style="white-space: pre;"> </span>LOGIN_BUTTON("[type='submit'][class='radius']");</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><br /><br /><br>Note: If you want to see the full example, you can examine my test code at&nbsp;<a href="http://test/java/pages/LoginPage.java">test/java/pages/LoginPage.java</a>.<br /><br />With the above code, we have also captured the locator for the Header ("Login Page").<br /><br /><h3>How do we access the values that we have stored?&nbsp;</h3><br /><ul><li>A String variable, <i>id</i>, is declared in the enum class, to stand for the locator for the web element.</li><li>We can use this variable to access the value in the enum.&nbsp;</li><li>We have an interface that passes information By selector, since in WebDriver, selectors can pass the locators<b> By id </b>or <b>By cssSelector</b>, and we want to handle both types. To use this interface, ISelector, the LoginPageEnum is set up to <i>implement</i> ISelector.&nbsp;</li><li>We even have array capturing the major web elements, in case we want to loop through them to see if the element <i>.isDisplayed()</i></li></ul><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; String id;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; private LoginPageEnum(String Id){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.id = Id;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public String getId(){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return id;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public By selector() {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return By.cssSelector(getId());<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public LoginPageEnum[] getDefaultElements(){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new LoginPageEnum[] {USERNAME, PASSWORD, LOGIN_BUTTON};<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br><br>For the interface <a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced/blob/master/src/test/java/interfaces/ISelector.java">ISelector</a>:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">package interfaces;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">import org.openqa.selenium.By;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">public interface ISelector {</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &nbsp; &nbsp; public By selector();</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">}</span><div><br />The source code for this interface can be found at&nbsp;<a href="http://test/java/interfaces/ISelector.java">test/java/interfaces/ISelector.java</a>.</div><div><br /><h3>What is an interface?</h3><div><blockquote class="tr_bq"><i>"There are a number of situations in software engineering when it is important for disparate groups of programmers to agree to a "contract" that spells out how their software interacts. Each group should be able to write their code without any knowledge of how the other group's code is written. Generally speaking, interfaces are such contracts.</i>&nbsp;</blockquote><blockquote class="tr_bq"><i>"[...] In the Java programming language, an interface is a reference type, similar to a class, that can contain only constants, method signatures, default methods, static methods, and nested types. Method bodies exist only for default methods and static methods. Interfaces cannot be instantiated—they can only be implemented by classes or extended by other interfaces.&nbsp;</i>&nbsp;</blockquote><blockquote class="tr_bq"><i>"To use an interface, you write a class that implements the interface. When an instantiable class implements an interface, it provides a method body for each of the methods declared in the interface".<br />-&nbsp;<a href="https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html">The Java Tutorials: Interfaces</a></i></blockquote></div><div>Note that the LoginPageEnum <i>implements</i> the ISelector interface.&nbsp;</div><h3></h3><h3>How to use these selectors to find elements?&nbsp;</h3><h4>Finding the text of the Header</h4>Now that all the prep-work is complete, to find the HEADER selector, we can use ".selector()":<br /><br /><blockquote class="tr_bq">HEADER.selector().</blockquote></div><div>If we wanted to create a method to grab the Header text, such as "Login Page" on the Login screen:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">public String getHeaderText(){</span><br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>System.out.println("Header is: " + getElementText(LoginPageEnum.HEADER.selector()));<br />&nbsp; &nbsp; &nbsp; &nbsp; return getElementText(LoginPageEnum.HEADER.selector());<br /><br />}<br /><br /><h3>Finding the other web elements using Selectors</h3><br />Likewise, in order to find the selectors for the web elements, all we need to do is to import LoginPageEnum, and then use:<br /><br /><br /><div><ul><li>LoginPageEnum.USERNAME.selector()</li><li>LoginPageEnum.PASSWORD.selector()</li><li>LoginPageEnum.LOGIN_BUTTON.selector()</li></ul><br><br><b>NEXT: </b><a href="/2015/07/the-internet-page-object-model-examples.html">Page Object Model</a><br><br /><div class="toc-section" id="toc-section"><b>Testing The-Internet:</b><ul><li><b>Part One:</b>&nbsp;<a href="/2015/06/simple-manipulation-of-login-page.html">Sketching out the simple manipulation of a login page</a></li><li><b>Part Two:</b>&nbsp;<a href="/2015/06/creating-common-utilities-for-webdriver.html">Drafting Common Utilities</a></li><li><b>Part Three:</b>&nbsp;<a href="/2015/07/how-java-stores-constants-static-final.html">Storing Constanst: public final vs enums</a></li><li><b>Part Four:</b>&nbsp;<a href="/2015/07/storing-locators-for-web-elements.html">Storing locators in enums</a></li><li><b>Part Five:</b>&nbsp;<a href="/2015/07/the-internet-page-object-model-examples.html">Page Object Model</a></li><li><b>Part Six:</b>&nbsp;<a href="/2015/07/the-internet-writing-automated-test.html">Writing the Automated Test</a></li><li><b>Source Code:</b>&nbsp;<a href="https://github.com/tjmaher/WebDriver_TheInternet_Advanced">GitHub, T.J. Maher</a></li></ul></div><br /><br> <br /><br />-T.J. Maher<br /><i>&nbsp;Sr. QA Engineer, Fitbit</i><br /><i>&nbsp;Boston, MA</i><br /><i><br /></i><i>// Automated tester for [ 4 ] month and counting!</i><br /><i><br /></i><i>Please note: 'Adventures in Automation' is a personal blog about automated testing. It is not an official blog of&nbsp;<a href="http://www.fitbit.com/" target="_blank">Fitbit.com</a>.&nbsp;</i><br /><br /><br /></div>