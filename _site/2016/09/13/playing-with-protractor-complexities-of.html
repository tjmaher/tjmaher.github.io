Vojtěch Jína, a Software Engineer at Google, finished his Master's thesis, <a href="https://github.com/karma-runner/karma/blob/master/thesis.pdf" target="_blank">JavaScript Test Runner</a>, at the Czech Technical University in Prague in 2013. Vojtěch talked about, in his thesis, the difficulty developers had when attempting to write unit tests for their code when using JavaScript.<br /><br /><blockquote><i><span style="font-size: large;"><span style="font-family: &quot;georgia&quot;;">"The language for web applications is JavaScript, which is a very dynamic language without static typing. There is no compiler that could catch mistakes like misspelling a variable name or calling a non existing method on an object - developers have to actually run the code to catch these issues. Therefore testing is absolutely necessary"</span>.</span></i></blockquote><br /><div style="text-align: center;"><b>JavaScript Test Runner</b>, by Vojtěch Jína </div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-s8VDA6cU6Og/V9h7OvyQMEI/AAAAAAAALXs/HqbrclSLnuQmrCZJEOJprKxXHp0MEu8oQCLcB/s1600/thesis.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="https://3.bp.blogspot.com/-s8VDA6cU6Og/V9h7OvyQMEI/AAAAAAAALXs/HqbrclSLnuQmrCZJEOJprKxXHp0MEu8oQCLcB/s320/thesis.png" width="248" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="https://github.com/karma-runner/karma/blob/master/thesis.pdf" target="_blank"><i>https://github.com/karma-runner/karma/blob/master/thesis.pdf</i></a></td></tr></tbody></table><br /><a name='more'></a><br /><br /><h1>The Problem With JavaScript</h1><br />Java is a static typed language. You declare the type from the very beginning, such as <i>String greeting = "Hello"</i>. To declare a variable in JavaScript, you can say <i>var variable = 3</i>, or <i>var variable = "Hello"</i>, or <i>var variable = false</i>, and that variable will become an integer, string, or boolean, depending what value you assign to it. If you try to assign another value to it, and instead call it "varble", no error will be thrown. A new "varble" will simply be created.<br /><br />Because there is no static typing with JavaScript, it "makes type checking and IDEs support hard".<br /><br />Back in 2013, "[c]onventions for structure of a project are not settled yet and therefore projects typically end up with very messy codebase. Additionally, there are many inconsistencies between different browsers, especially when it comes to dealing with Document Object Model (DOM)".<br /><br /><h2>Karma to the Rescue!</h2><br />To help developers out with unit testing their JavaScript code, he created a new JavaScript Test Runner.<br /><br />That test runner was called <b>Karma</b>... Well, originally it was called <i>"Testacular"</i>... Yes. Seriously. See <a href="https://github.com/karma-runner/karma/issues/376" target="_blank">Issue #376</a> of Karma's GitHub site.<br /><br />Anyway... <b>Karma</b> -- <a href="https://github.com/karma-runner">https://github.com/karma-runner</a> -- was to run the unit tests silently in the background, not distracting the developer needlessly. "This workflow significantly improves the productivity and therefore empowers web developers to rely more on automated testing".<br /><blockquote><i><span style="font-family: &quot;georgia&quot; , &quot;times new roman&quot; , serif; font-size: medium;"></span></i><br /><ul><i><span style="font-family: &quot;georgia&quot; , &quot;times new roman&quot; , serif; font-size: medium;"></span><li><span style="font-family: &quot;georgia&quot; , &quot;times new roman&quot; , serif; font-size: medium;">"IDEs are improving their heuristics for dealing with dynamic languages and bringing refactoring tools for easier coding (eg. <a href="https://www.jetbrains.com/webstorm/" target="_blank">WebStorm</a> can understand a JavaScript project very well and offers similar features like the ones for statically typed languages).</span></li><li><span style="font-family: &quot;georgia&quot; , &quot;times new roman&quot; , serif; font-size: medium;">"MVC [ <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank"><i>Model-View-Controller</i></a> ] frameworks (eg. <a href="https://angularjs.org/" target="_blank">AngularJS</a>, <a href="http://emberjs.com/" target="_blank">Ember.Js</a>) are helping with overall application structure and rising the level of abstraction by offering bigger building blocks.</span></li><li><span style="font-family: &quot;georgia&quot; , &quot;times new roman&quot; , serif; font-size: medium;">"New languages that compiles to JavaScript (eg. <a href="http://coffeescript.org/" target="_blank">CoffeeScript</a>, <a href="http://livescript.net/" target="_blank">LiveScript</a>) are improving the syntax and adding features to the language".</span></li></i></ul><i></i></blockquote>... I'm still trying to wrap my mind around different uses of <a href="http://www.tjmaher.com/search/label/Design%20Pattern" target="_blank">Software Design Patterns</a>, so I wasn't able to fully understand about how Vojtěch wrote Karma with an "Inversion of Control (IoC) pattern" and using a "Dependency Injection (DI) framework", which he gets into in his thesis.<br /><br /><b>Vojta Jina</b> - Dependency Injection - <i>NG-Conf</i><br /><iframe allowfullscreen="" frameborder="0" height="315" src="https://www.youtube.com/embed/_OGGsf1ZXMs" width="560"></iframe><i><b>AngularJs Conference</b>, <a href="http://www.ng-conf.org/" target="_blank">ng-conf</a>, Jan 16, 2014</i><br /><br />... Okay, that makes Dependency Injection a bit more understandable. Thank you, Vojta!<br /><br /><h2>It's All About The Testing</h2><br />What really caught my eye? There are chapters on this thesis on my favorite subject of them all: Why you should always test.<br /><br />Of course, it is more geared towards why developers should use Karma to unit test their code, but this applies to why every Agile Software Development team should include an automation developer to add tests to their browser ui regression test suite.<br /><br /><h2>Why Testing?</h2><br /><br /><h3>Proving the Code is Correct:</h3><br /><br />Your code is going to be tested one way or another, either by you or your customer. If you automate your tests, they will run more often, giving you more confident the code works as you intended.<br /><br /><h3>Avoiding Regressions:&nbsp;</h3><blockquote><i>"[a] Regression bug is a bug that had been fixed in the past and then occurred again. Introducing the same bug into the system again can happen very easily, because very often we do not see some hidden relationships. For instance, we change obviously unrelated piece of code and therefore we do not check some old problem, because we do not expect that problem to occur again. Once we have an automated test for this bug, it will not happen again (at least the probability is very low), because we can easily run all the tests, instead of manually trying only the parts that are obviously related to the change we made. This gives us more confidence when making any changes and therefore it makes things like refactoring easier".</i></blockquote><h3>Quick Feedback:</h3><blockquote><i>"Whenever you make any changes, you want to immediately see the result of that change. When writing software the developer makes a change and then he needs to wait for compiling the code and then running it. That is very slow feedback, slowing the whole development process and killing creativity. JavaScript is an interpreted language and reloading the browser is usually pretty fast [...] but it could be faster. Running unit tests can be way faster than switching context from the text editor to the browser and waiting for the page to reload. Executing a unit test can happen in a few milliseconds, without the developer leaving his text editor at all, creating instant feedback from testing".</i></blockquote><h3>Safer Refactoring:</h3><br />The software architecture will need to change and adapt as the project requirements change.<br /><blockquote><i>"The only way to cope with these changes, is to keep refactoring and adapting our architecture. Unfortunately, refactoring can be very dangerous. It is very easy to break existing code by refactoring and therefore people usually do not do it. Testing gives you the confidence. Tests prove whether the code still works, even after a major refactoring. This confidence is very important, because it empowers people to do refactoring and keep the architecture fresh".</i></blockquote><h3>Documentation:</h3><blockquote><i>"A well written test tells a story - a story about how to use the code under test, therefore tests can serve as a documentation. There is one big advantage over the classical documentation - this documentation will not get stale. As long as the tests are passing, the documentation is up to date." </i></blockquote><br />... With tools such as Jasmine you can create documentation that always reflects the product as it truly is.<br /><br /><div class="toc-section" id="toc-section"><b>Playing With Protractor:</b><br /><ul><li><b>Part One:</b> <a href="http://www.tjmaher.com/2016/09/playing-with-protractor-testing.html">My first exposure to an AngularJS web app: Testing using Protractor, Jasmine, and JavaScript</a></li><li><b>Part Two:</b>&nbsp; <a href="http://www.tjmaher.com/2016/09/playing-with-protractor-learning.html">Learning AngularJS with the PhoneCat Tutorial App: Installation, Setup, and Running Tests</a></li><li><b>Part Three</b>:&nbsp;<a href="http://www.tjmaher.com/2016/09/playing-with-protractor-complexities-of.html">The complexities of testing JavaScript frameworks, according to Vojtěch Jína, creator of Karma Test Runner for AngularJS</a></li></ul></div><br />Happy Testing! <br /><br />-T.J. Maher<br />Sr. QA Engineer<br /><br /><i>// Software QA Engineer since 1996.<br />// Working with Selenium WebDriver since 2014.  <br />// Follow Adventures in Automation and Like us on <a href="https://www.facebook.com/AdventuresInAutomation/">Facebook</a>! </i>