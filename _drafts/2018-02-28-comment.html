---
layout: post
title: Automation for an API using Ruby + Gauge
date: '2018-02-28T00:25:00.000-05:00'
author: T.J. Maher
tags:
- API
- Gauge
- Ruby
- Rest API
modified_time: '2018-02-28T00:25:20.002-05:00'
blogger_id: tag:blogger.com,1999:blog-3868566217808655382.post-6195537027943864935
blogger_orig_url: https://www.blogger.com/comment.g?blogID=3868566217808655382&postID=6195537027943864935
---

Back in March 2017, we tinkered with searching if a certain bus line was still listed on the Massachusetts Bay Transportation Authority (MBTA) website, <a href="http://www.tjmaher.com/2017/02/are-you-sure-bus-line-still-listed.html" target="_blank">first through the UI</a>, then <a href="http://www.tjmaher.com/2017/03/are-you-sure-bus-line-is-still-listed.html" target="_blank">using Java&nbsp;+ Rest Assured</a>&nbsp;to interact with their free public API.<br /><br />What if we performed the same test using Ruby&nbsp;+ Gauge? How would we do that?<br /><br /><div><br /></div><div>We have already installed Ruby and Gauge when we created&nbsp;<a href="http://www.tjmaher.com/2018/02/are-you-gauge-expert-how-do-you-graft.html" style="font-style: italic;" target="_blank">A Rudimentary Selenium&nbsp;+ Ruby&nbsp;+ Gauge Project</a>&nbsp;last month. We also installed Atom.io as a text editor.<i>&nbsp;</i>All we need to do is:</div><br /><br /><div><br /></div><div>1) Scaffold out a new Gauge project in a new folder</div><div>2) Come up with a few tests</div><div>3) Interact with the MBTA's RESTful API using their Public API Key.</div><br /><br /><a name='more'></a><br /><br /><h2>Step One: Scaffold Out a Project</h2>After creating a new folder for the project, MBTA_RubyGaugeAPI, I entered the folder I created using the Command Line Interface. Since I am using my home computer, it is the Command Prompt.<br /><br />Once in the folder, in order to scaffold a quick-and-dirty project and make sure that it could run, I entered:<br /><br /><ul><li><i>gauge init ruby</i></li><li><i>bundle exec gauge run specs/</i></li></ul><div>... What code is generated? What does each folder mean? Take a look at:</div><div></div><br /><ul><li>&nbsp;<i><a href="http://www.tjmaher.com/2018/01/a-brief-overview-of-gauge-bdd.html" target="_blank">Brief Overview of Gauge, the BDD tool</a></i></li><li><a href="https://github.com/tjmaher/gauge_0.9.7_default_code" target="_blank"><i>Gauge 0.9.7 Default Code</i></a></li></ul>To open up Atom, the text editor in that directory, we can type in the word "atom", a space, and a period, all within the command line:<br /><br /><ul><li><i>atom .</i></li></ul><br />Next, we need to chart out a simple test that we can place in the <i>spec</i> folder, and pair with Ruby code in the <i>step_implementation</i> folder.<br /><h2><br />Step Two: Spec Out a Basic Test</h2>Based on what we have in the <a href="https://github.com/tjmaher/RestAssuredJavaDemo/blob/master/src/test/java/MbtaRoutesTest.java">code we wrote out using Java + Rest Assured</a>, we can write a few tests such as:<br /><br /><b><u>Routes:</u></b><br /><b><u><br /></u></b><br /><ul><li>Verify that if selected, the return format for application is "JSON".</li><li>Verify that if JSON selected, the status code is OK-200.&nbsp;</li></ul><br /><br /><h2>Step Three: Write Steps in Ruby</h2><br />http://realtime.mbta.com/developer/api/v2/ using the public api key api_key","wX9NwuHnZU2ToO7GmGR9uw<br /><br /><br />Happy Testing! <br /><br />-T.J. Maher<br />Sr. QA Engineer, Software Engineer in Test<br />Meetup Organizer, <a href="http://bit.ly/mot_boston" target="_blank">Ministry of Testing - Boston</a><br /><br /><a href="https://twitter.com/tjmaher1">Twitter</a>&nbsp;| <a href="http://bit.ly/tj_youtube" target="_blank">YouTube</a> |&nbsp;<a href="https://www.linkedin.com/in/tjmaher1" target="_blank">LinkedIn</a>&nbsp;| <a href="http://bit.ly/tj_techbeacon" target="_blank">Articles</a>